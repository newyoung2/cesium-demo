{"version":3,"sources":["webpack:///./src/views/wisdomCity/electBox.vue?d4c9","webpack:///src/views/wisdomCity/electBox.vue","webpack:///./src/views/wisdomCity/electBox.vue?37ee","webpack:///./src/views/wisdomCity/electBox.vue","webpack:///./src/views/wisdomCity/electBox.vue?e90b","webpack:///./node_modules/_core-js@3.8.0@core-js/internals/create-property.js","webpack:///./node_modules/_core-js@3.8.0@core-js/modules/es.array.concat.js"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","attrs","component","toPrimitive","definePropertyModule","createPropertyDescriptor","module","exports","object","key","value","propertyKey","f","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError"],"mappings":"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","file":"js/chunk-2478bb27.9c9ea3ec.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cesiumContainer1\"}},[_c('div',{attrs:{\"id\":\"cesiumContainer\"}}),_c('div',{attrs:{\"id\":\"ThreeContainer\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"cesiumContainer1\">\r\n    <div id=\"cesiumContainer\"></div>\r\n    <div id=\"ThreeContainer\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n  import * as THREE from \"THREE\";\r\n  var minWGS84 = [121.49, 31.26];\r\n  var maxWGS84 = [122.49, 32.26];\r\n  var cesiumContainer;\r\n  var ce\r\n  var ThreeContainer;\r\n  var _3Dobjects = []; //Could be any Three.js object mesh\r\n  var three = {\r\n    renderer: null,\r\n    camera: null,\r\n    scene: null,\r\n  };\r\n\r\n  var cesium = {\r\n    viewer: null,\r\n  };\r\n\r\n  export default {\r\n    props: {},\r\n    data() {\r\n      return {};\r\n    },\r\n    mounted() {\r\n\r\n\r\n      this.main();\r\n    },\r\n    methods: {\r\n      main() {\r\n        //使用ion数据   需要先申请token\r\n        Cesium.Ion.defaultAccessToken =\r\n          \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmMjY1MzY3MC1mYWIwLTQ2ZDItYTdlZi0yNWEyZjU2MjAzOTQiLCJpZCI6Mzg4MzUsImlhdCI6MTYwNjg3MzkxNX0.gGDAumUmOxcrCTMRfrKZJjfZpYiLxGwJwSLlkDYt9BY\";\r\n\r\n        cesiumContainer = document.getElementById(\"cesiumContainer\");\r\n        ThreeContainer = document.getElementById(\"ThreeContainer\");\r\n\r\n        this.initCesium(); // Initialize Cesium renderer\r\n        this.initThree(); // Initialize Three.js renderer\r\n        this.init3DObject(); // Initialize Three.js object mesh with Cesium Cartesian coordinate system\r\n        this.loop(); // Looping renderer\r\n      },\r\n      // 初始化cesium\r\n      initCesium() {\r\n        // let esri = new Cesium.ArcGisMapServerImageryProvider({\r\n        //   url: 'https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer'\r\n        // });\r\n        // var googlemap = new Cesium.UrlTemplateImageryProvider(\r\n        //   {\r\n        //     url: 'http://mt1.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&{x}&y={y}&z={z}&s=Gali'\r\n        //   })\r\n        cesium.viewer = new Cesium.Viewer(\"cesiumContainer\", {\r\n          useDefaultRenderLoop: false,\r\n          infoBox: false,\r\n          selectionIndicator: false,\r\n          geocoder: false, // 地理位置查询定位控件\r\n          homeButton: false, // 默认相机位置控件\r\n          timeline: false, // 时间滚动条控件\r\n          navigationHelpButton: false, // 默认的相机控制提示控件\r\n          fullscreenButton: false, // 全屏控件\r\n          scene3DOnly: true, // 每个几何实例仅以3D渲染以节省GPU内存\r\n          // baseLayerPicker: true, // 底图切换控件\r\n          animation: false, // 控制场景动画的播放速度控件\r\n          imageryProvider: new Cesium.ArcGisMapServerImageryProvider({\r\n            url:\r\n              \"http://cache1.arcgisonline.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer\",\r\n          }),\r\n          baseLayerPicker: false,\r\n        });\r\n        // let center = Cesium.Cartesian3.fromDegrees(\r\n        //   (minWGS84[0] + maxWGS84[0]) / 2,\r\n        //   ((minWGS84[1] + maxWGS84[1]) / 2) - 1,\r\n        //   200000\r\n        // );\r\n        // ce = center;\r\n        // cesium.viewer.camera.flyTo({\r\n        //   destination: center,\r\n        //   orientation: {\r\n        //     heading: Cesium.Math.toRadians(0),\r\n        //     pitch: Cesium.Math.toRadians(-60),\r\n        //     roll: Cesium.Math.toRadians(0)\r\n        //   },\r\n        //   duration: 3\r\n        // });\r\n\r\n        cesium.viewer.scene.camera.flyTo({\r\n          destination: new Cesium.Cartesian3(-2852038.506894064, 4656753.071879653, 3286786.358214652),\r\n          orientation: {\r\n            heading: 0.4417702951554947,\r\n            pitch: -0.30187320702800813,\r\n          },\r\n        });\r\n      },\r\n      // 初始化three\r\n      initThree() {\r\n        let fov = 45;\r\n        let width = window.innerWidth;\r\n        let height = window.innerHeight;\r\n        let aspect = width / height;\r\n        let near = 1;\r\n        let far = 10 * 1000 * 1000; // needs to be far to support Cesium's world-scale rendering\r\n        three.scene = new THREE.Scene();\r\n        three.camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\r\n        three.renderer = new THREE.WebGLRenderer({ alpha: true });\r\n        // let axis=new THREE.AxesHelper(1000*1000*1000);\r\n        // three.scene.add(axis);\r\n        ThreeContainer.appendChild(three.renderer.domElement);\r\n      },\r\n      // 初始化两个库里的3d对象\r\n      init3DObject() {\r\n        //添加cesium对象\r\n        this.addBuildings()\r\n\r\n        // 添加three对象\r\n        var electBox = this.addElectBox()\r\n      },\r\n      // 循环渲染\r\n      loop() {\r\n        requestAnimationFrame(this.loop);\r\n        this.renderCesium();\r\n        this.renderThreeObj();\r\n      },\r\n      renderCesium() {\r\n        cesium.viewer.render();\r\n      },\r\n      renderThreeObj() {\r\n        // register Three.js scene with Cesium\r\n\r\n        three.camera.fov = Cesium.Math.toDegrees(cesium.viewer.camera.frustum.fovy) // ThreeJS FOV is vertical\r\n\r\n        // Configure Three.js meshes to stand against globe center position up direction\r\n        if (_3Dobjects.length > 0) {\r\n          _3Dobjects.forEach((item, id) => {\r\n            _3Dobjects[id].threeMesh.material.uniforms.time.value += 0.01\r\n\r\n          })\r\n        }\r\n        // Clone Cesium Camera projection position so the\r\n\r\n        // Three.js Object will appear to be at the same place as above the Cesium Globe\r\n\r\n        three.camera.matrixAutoUpdate = false;\r\n\r\n        var cvm = cesium.viewer.camera.viewMatrix;\r\n\r\n        var civm = cesium.viewer.camera.inverseViewMatrix;\r\n\r\n        three.camera.lookAt(0, 0, 0);\r\n\r\n        three.camera.matrixWorld.set(\r\n\r\n          civm[0], civm[4], civm[8], civm[12],\r\n\r\n          civm[1], civm[5], civm[9], civm[13],\r\n\r\n          civm[2], civm[6], civm[10], civm[14],\r\n\r\n          civm[3], civm[7], civm[11], civm[15]\r\n\r\n        );\r\n\r\n        three.camera.matrixWorldInverse.set(\r\n\r\n          cvm[0], cvm[4], cvm[8], cvm[12],\r\n\r\n          cvm[1], cvm[5], cvm[9], cvm[13],\r\n\r\n          cvm[2], cvm[6], cvm[10], cvm[14],\r\n\r\n          cvm[3], cvm[7], cvm[11], cvm[15]\r\n\r\n        );\r\n\r\n\r\n\r\n        var width = ThreeContainer.clientWidth;\r\n\r\n        var height = ThreeContainer.clientHeight;\r\n\r\n        var aspect = width / height;\r\n\r\n        three.camera.aspect = aspect;\r\n\r\n        three.camera.updateProjectionMatrix();\r\n\r\n        three.renderer.setSize(width, height);\r\n\r\n        three.renderer.clear();\r\n\r\n        three.renderer.render(three.scene, three.camera);\r\n\r\n      },\r\n      // 添加建筑\r\n      addBuildings() {\r\n        // 特效 默认开启\r\n        Cesium.TILE_EFFECT_STAYE = true;\r\n\r\n        // 片元着色器 默认 可以自定义\r\n        Cesium.TILE_FS_BODY = ` float stc_pl = fract(czm_frameNumber / 120.0) * 3.14159265 *         \r\n    2.0;\r\n   float stc_sd = v_stcVertex.z / 60.0 + sin(stc_pl) * 0.1;\r\n   gl_FragColor *= vec4(stc_sd, stc_sd, stc_sd, 1.0);\r\n   float stc_a13 = fract(czm_frameNumber / 360.0);\r\n   float stc_h = clamp(v_stcVertex.z / 450.0, 0.0, 1.0);\r\n   stc_a13 = abs(stc_a13 - 0.5) * 2.0;\r\n   float stc_diff = step(0.005, abs(stc_h - stc_a13));\r\n   gl_FragColor.rgb += gl_FragColor.rgb * (1.0 - stc_diff);`;\r\n\r\n\r\n        var tileset = new Cesium.Cesium3DTileset({\r\n          url: \"test3/tileset.json\",\r\n          maximumScreenSpaceError: 16,\r\n          maximumNumberOfLoadedTiles: 1000,\r\n        });\r\n        cesium.viewer.scene.primitives.add(tileset);\r\n\r\n        tileset.readyPromise\r\n          .then(function (tileset) {\r\n            console.log(tileset)\r\n            // 获取模型中心坐标  为w84坐标   转换为火星坐标\r\n            var boundingSphere = tileset.boundingSphere;\r\n            var cartographic = Cesium.Cartographic.fromCartesian(\r\n              boundingSphere.center\r\n            );\r\n            // console.log(Cesium.Math.toDegrees(cartographic.longitude), Cesium.Math.toDegrees(cartographic.latitude))\r\n            var surface = Cesium.Cartesian3.fromRadians(\r\n              cartographic.longitude,\r\n              cartographic.latitude,\r\n              0\r\n            );\r\n            var offset = Cesium.Cartesian3.fromRadians(\r\n              Cesium.Math.toRadians(121.41440447172941),\r\n              Cesium.Math.toRadians(31.148724746744023),\r\n              -32.0\r\n            );\r\n\r\n            var translation = Cesium.Cartesian3.subtract(\r\n              offset,\r\n              surface,\r\n              new Cesium.Cartesian3()\r\n            );\r\n            tileset.modelMatrix = Cesium.Matrix4.fromTranslation(translation);\r\n\r\n            // var defaultStyle = new Cesium.Cesium3DTileStyle({\r\n            //    color : \"color('blue')\",\r\n            //    show : true\r\n            // });\r\n\r\n            tileset.style = new Cesium.Cesium3DTileStyle({\r\n              color: {\r\n                conditions: [\r\n                  [\"true\", \"color('cyan')\"]\r\n                ]\r\n              }\r\n            });\r\n\r\n          })\r\n          .otherwise(function (error) {\r\n            throw error;\r\n          });\r\n\r\n      },\r\n      addElectBox() {\r\n        let minWGS84 = [121.49, 31.26]\r\n        var maxWGS84 = [122.49, 32.26];\r\n        var doubleSideMaterial = this.getElectBoxMaterial()\r\n        var geometry = new THREE.SphereBufferGeometry(15, 50, 50, 0, Math.PI * 2)\r\n        var threeMesh = new THREE.Mesh(geometry, doubleSideMaterial);\r\n        threeMesh.scale.set(1500, 1500, 1500); //scale object to be visible at planet scale\r\n        threeMesh.position.z += 15.0; // translate \"up\" in Three.js space so the \"bottom\" of the mesh is the handle\r\n        threeMesh.rotation.x = Math.PI / 2; // rotate mesh for Cesium's Y-up system\r\n        three.scene.add(threeMesh);\r\n        let res = {\r\n          threeMesh,\r\n          minWGS84,\r\n          maxWGS84\r\n        }\r\n\r\n        _3Dobjects.push(res);\r\n        this.setThreeObjPosition(res)\r\n        return res\r\n\r\n      },\r\n      getElectBoxMaterial() {\r\n        var ElectricShield = {\r\n          uniforms: {\r\n            time: {\r\n              type: \"f\",\r\n              value: 0,\r\n            },\r\n            color: {\r\n              type: \"c\",\r\n              value: new THREE.Color(\"red\"),\r\n            },\r\n            opacity: {\r\n              type: \"f\",\r\n              value: 1,\r\n            },\r\n          },\r\n          vertexShaderSource: \"\\n  precision lowp float;\\n  precision lowp int;\\n  \"\r\n            .concat(\r\n              THREE.ShaderChunk.fog_pars_vertex,\r\n              \"\\n  varying vec2 vUv;\\n  void main() {\\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n    vUv = uv;\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n    \"\r\n            )\r\n            .concat(THREE.ShaderChunk.fog_vertex, \"\\n  }\\n\"),\r\n          fragmentShaderSource: `\r\n                    #if __VERSION__ == 100\r\n                     #extension GL_OES_standard_derivatives : enable\r\n                    #endif\r\n                    uniform vec3 color;\r\n                    uniform float opacity;\r\n                    uniform float time;\r\n                    varying vec2 vUv;\r\n                    #define pi 3.1415926535\r\n                    #define PI2RAD 0.01745329252\r\n                    #define TWO_PI (2. * PI)\r\n                    float rands(float p){\r\n                        return fract(sin(p) * 10000.0);\r\n                    }\r\n                    float noise(vec2 p){\r\n                        float t = time / 20000.0;\r\n                        if(t > 1.0) t -= floor(t);\r\n                        return rands(p.x * 14. + p.y * sin(t) * 0.5);\r\n                    }\r\n                    vec2 sw(vec2 p){\r\n                        return vec2(floor(p.x), floor(p.y));\r\n                    }\r\n                    vec2 se(vec2 p){\r\n                        return vec2(ceil(p.x), floor(p.y));\r\n                    }\r\n                    vec2 nw(vec2 p){\r\n                        return vec2(floor(p.x), ceil(p.y));\r\n                    }\r\n                    vec2 ne(vec2 p){\r\n                        return vec2(ceil(p.x), ceil(p.y));\r\n                    }\r\n                    float smoothNoise(vec2 p){\r\n                        vec2 inter = smoothstep(0.0, 1.0, fract(p));\r\n                        float s = mix(noise(sw(p)), noise(se(p)), inter.x);\r\n                        float n = mix(noise(nw(p)), noise(ne(p)), inter.x);\r\n                        return mix(s, n, inter.y);\r\n                    }\r\n                    float fbm(vec2 p){\r\n                        float z = 2.0;\r\n                        float rz = 0.0;\r\n                        vec2 bp = p;\r\n                        for(float i = 1.0; i < 6.0; i++){\r\n                        rz += abs((smoothNoise(p) - 0.5)* 2.0) / z;\r\n                        z *= 2.0;\r\n                        p *= 2.0;\r\n                        }\r\n                        return rz;\r\n                    }\r\n                    void main() {\r\n                        vec2 uv = vUv;\r\n                        vec2 uv2 = vUv;\r\n                        if (uv.y < 0.5) {\r\n                        discard;\r\n                        }\r\n                        uv *= 4.;\r\n                        float rz = fbm(uv);\r\n                        uv /= exp(mod(time * 2.0, pi));\r\n                        rz *= pow(15., 0.9);\r\n                        gl_FragColor = mix(vec4(color, opacity) / rz, vec4(color, 0.1), 0.2);\r\n                        if (uv2.x < 0.05) {\r\n                        gl_FragColor = mix(vec4(color, 0.1), gl_FragColor, uv2.x / 0.05);\r\n                        }\r\n                        if (uv2.x > 0.95){\r\n                        gl_FragColor = mix(gl_FragColor, vec4(color, 0.1), (uv2.x - 0.95) / 0.05);\r\n                        }\r\n                    }`,\r\n        };\r\n        let material = new THREE.ShaderMaterial({\r\n          uniforms: ElectricShield.uniforms,\r\n          defaultAttributeValues: {},\r\n          vertexShader: ElectricShield.vertexShaderSource,\r\n          fragmentShader: ElectricShield.fragmentShaderSource,\r\n          blending: THREE.AdditiveBlending,\r\n          depthWrite: !1,\r\n          depthTest: !0,\r\n          side: THREE.DoubleSide,\r\n          transparent: !0,\r\n        });\r\n        return material;\r\n      },\r\n      setThreeObjPosition(param) {\r\n        var cartToVec = function (cart) {\r\n\r\n          return new THREE.Vector3(cart.x, cart.y, cart.z);\r\n\r\n        };\r\n        let minWGS84 = param.minWGS84;\r\n\r\n        let maxWGS84 = param.maxWGS84;\r\n\r\n\r\n        // convert lat/long center position to Cartesian3\r\n\r\n        var center = Cesium.Cartesian3.fromDegrees((minWGS84[0] + maxWGS84[0]) / 2, (minWGS84[1] + maxWGS84[1]) / 2);\r\n\r\n        // get forward direction for orienting model\r\n\r\n        var centerHigh = Cesium.Cartesian3.fromDegrees((minWGS84[0] + maxWGS84[0]) / 2, (minWGS84[1] + maxWGS84[1]) / 2, 1);\r\n\r\n        // use direction from bottom left to top left as up-vector\r\n\r\n        var bottomLeft = cartToVec(Cesium.Cartesian3.fromDegrees(minWGS84[0], minWGS84[1]));\r\n\r\n        var topLeft = cartToVec(Cesium.Cartesian3.fromDegrees(minWGS84[0], maxWGS84[1]));\r\n\r\n        var latDir = new THREE.Vector3().subVectors(bottomLeft, topLeft).normalize();\r\n\r\n        // configure entity position and orientation\r\n\r\n        //debugger\r\n\r\n        param.threeMesh.position.copy(center);\r\n\r\n        //debugger;\r\n\r\n        param.threeMesh.lookAt(centerHigh.x, centerHigh.y, centerHigh.z);\r\n\r\n        param.threeMesh.up.copy(latDir);\r\n\r\n\r\n        // _3Dobjects[id].threeMesh.material.uniforms.time.value += 0.01 \r\n      },\r\n\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  #cesiumContainer {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    margin: 0;\r\n    overflow: hidden;\r\n    padding: 0;\r\n    font-family: sans-serif;\r\n  }\r\n\r\n  #ThreeContainer {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    margin: 0;\r\n    overflow: hidden;\r\n    padding: 0;\r\n    font-family: sans-serif;\r\n    pointer-events: none;\r\n  }\r\n\r\n  .fullWindow {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    margin: 0;\r\n    overflow: hidden;\r\n    padding: 0;\r\n    font-family: sans-serif;\r\n  }\r\n\r\n  /* .loadingIndicator {\r\n              display: block;\r\n              position: absolute;\r\n              top: 50%;\r\n              left: 50%;\r\n              margin-top: -33px;\r\n              margin-left: -33px;\r\n              width: 66px;\r\n              height: 66px;\r\n              background-position: center;\r\n              background-repeat: no-repeat;\r\n              background-image: url(Images/ajax-loader.gif);\r\n          } */\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./electBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./electBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./electBox.vue?vue&type=template&id=1964534d&scoped=true&\"\nimport script from \"./electBox.vue?vue&type=script&lang=js&\"\nexport * from \"./electBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./electBox.vue?vue&type=style&index=0&id=1964534d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1964534d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./electBox.vue?vue&type=style&index=0&id=1964534d&scoped=true&lang=css&\"","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n"],"sourceRoot":""}