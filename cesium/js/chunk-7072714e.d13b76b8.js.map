{"version":3,"sources":["webpack:///./src/views/property/calbackproperty.vue?f13b","webpack:///./src/views/property/calbackproperty.vue?e186","webpack:///src/views/property/calbackproperty.vue","webpack:///./src/views/property/calbackproperty.vue?4e1c","webpack:///./src/views/property/calbackproperty.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","radioChange","model","value","callback","$$v","radio","expression","staticRenderFns","component"],"mappings":"kHAAA,W,gECAA,ICoBA,EDpBIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,oBAAoB,CAACF,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,QAAQE,GAAG,CAAC,OAASR,EAAIS,aAAaC,MAAM,CAACC,MAAOX,EAAS,MAAEY,SAAS,SAAUC,GAAMb,EAAIc,MAAMD,GAAKE,WAAW,UAAU,CAACX,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,0BAA0BF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,yBAAyB,IAAI,MAC3cU,EAAkB,G,YCgBtB,G,oBAAA,MAMA,GACE,KAAF,cACE,MAAF,GACE,KAHF,WAII,MAAJ,CACM,MAAN,qBACM,KAAN,CACA,CACQ,GAAR,WACQ,KAAR,yBACQ,QAAR,MACQ,MAAR,CACU,SAAV,YACU,YAAV,OACU,WAAV,MAGA,CACQ,GAAR,yBACQ,KAAR,mCACQ,WAAR,CACU,mBAAV,EACU,qBAAV,CACA,CACY,SAAZ,YACY,OAAZ,SAEA,CACY,SAAZ,YACY,OAAZ,SAEA,CACY,SAAZ,YACY,OAAZ,SAEA,CACY,SAAZ,YACY,OAAZ,UAGU,mBAAV,CACY,OAAZ,CACA,OACA,QACA,OACA,QACA,OACA,QACA,OACA,QACA,OACA,YAKA,CACQ,GAAR,WACQ,KAAR,WACQ,QAAR,CACU,UAAV,CACY,oBAAZ,EACA,OACA,GACA,GACA,OACA,GACA,GACA,OACA,GACA,GACA,OACA,GACA,IAGU,SAAV,CACY,WAAZ,CACc,MAAd,CACgB,KAAhB,iBAIU,OAAV,EACU,eAAV,OAME,SAAF,GACE,MAAF,GACE,WAAF,GACE,QA7FF,aA8FE,QA9FF,WA+FI,KAAJ,QAEE,QAAF,CACI,KADJ,WAEM,IAIN,GACQ,eAAR,EACQ,SAAR,EACQ,oBAAR,EACQ,UAAR,EACQ,YAAR,EACQ,UAAR,EACQ,sBAAR,EACQ,kBAAR,EACQ,aAAR,EACQ,iBAAR,EACQ,WAAR,EAEQ,gBAAR,YACU,IACV,gGAOM,EAAN,iCACM,EAAN,oDACM,EAAN,uCACA,QACM,KAAN,gBAEI,YAlCJ,SAkCA,GACM,KAAN,sBAEI,aArCJ,WAsCM,EAAN,WACM,EAAN,gBACM,EAAN,mBACM,EAAN,UACM,KAAN,+BAEI,kBA5CJ,SA4CA,GACM,IAAN,qBACA,0BAEA,kBACA,iCAOM,EAAN,kDAEI,cA1DJ,SA0DA,KAEM,OAAN,0BAGQ,OAFA,EAAR,gBACQ,GAAR,EACA,IACA,iBCxL4c,I,wBCQxcC,EAAY,eACd,EACAlB,EACAiB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-7072714e.d13b76b8.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./calbackproperty.vue?vue&type=style&index=0&id=22340048&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cesiumContainer\"}},[_c('div',{staticClass:\"tool-box\"},[_c('el-radio-group',{attrs:{\"size\":\"mini\"},on:{\"change\":_vm.radioChange},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('el-radio-button',{attrs:{\"label\":\"population_intervals\"}}),_c('el-radio-button',{attrs:{\"label\":\"population_sampled\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"cesiumContainer\">\r\n        <div class=\"tool-box\">\r\n            <el-radio-group v-model=\"radio\" @change=\"radioChange\" size=\"mini\">\r\n                <el-radio-button label=\"population_intervals\"></el-radio-button>\r\n                <el-radio-button label=\"population_sampled\"></el-radio-button>\r\n              </el-radio-group>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import * as Cesium from \"cesium/Cesium\";\r\n    import * as turf from '@turf/turf'\r\n    import widget from \"cesium/Widgets/widgets.css\";\r\n    // import util from '../../util/cesiumUtil'\r\n    var viewer = null;\r\n    let scene\r\n    var handler = null\r\n    var dataSource\r\n\r\n    var ldCollection\r\n    export default {\r\n        name: \"load3DTiles\",\r\n        props: {},\r\n        data() {\r\n            return {\r\n                radio:'population_sampled',\r\n                czml: [\r\n                    {\r\n                        id: \"document\",\r\n                        name: \"CZML Custom Properties\",\r\n                        version: \"1.0\",\r\n                        clock: {\r\n                            interval: \"1970/2010\",\r\n                            currentTime: \"1970\",\r\n                            multiplier: 500000000,\r\n                        },\r\n                    },\r\n                    {\r\n                        id: \"custom_property_object\",\r\n                        name: \"An object with custom properties\",\r\n                        properties: {\r\n                            constant_property: true,\r\n                            population_intervals: [\r\n                                {\r\n                                    interval: \"1970/1980\",\r\n                                    number: 2209600,\r\n                                },\r\n                                {\r\n                                    interval: \"1980/2090\",\r\n                                    number: 2889700,\r\n                                },\r\n                                {\r\n                                    interval: \"1990/2000\",\r\n                                    number: 3307600,\r\n                                },\r\n                                {\r\n                                    interval: \"2000/2010\",\r\n                                    number: 4326900,\r\n                                },\r\n                            ],\r\n                            population_sampled: {\r\n                                number: [\r\n                                    \"1970\",\r\n                                    2209600,\r\n                                    \"1980\",\r\n                                    2889700,\r\n                                    \"1990\",\r\n                                    3307600,\r\n                                    \"2000\",\r\n                                    4326900,\r\n                                    \"2010\",\r\n                                    5049100,\r\n                                ],\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        id: \"colorado\",\r\n                        name: \"Colorado\",\r\n                        polygon: {\r\n                            positions: {\r\n                                cartographicDegrees: [\r\n                                    -109.03,\r\n                                    41,\r\n                                    0,\r\n                                    -102.03,\r\n                                    41,\r\n                                    0,\r\n                                    -102.03,\r\n                                    37,\r\n                                    0,\r\n                                    -109.03,\r\n                                    37,\r\n                                    0,\r\n                                ],\r\n                            },\r\n                            material: {\r\n                                solidColor: {\r\n                                    color: {\r\n                                        rgba: [0, 255, 0, 150],\r\n                                    },\r\n                                },\r\n                            },\r\n                            height: 0,\r\n                            extrudedHeight: 0,\r\n                        },\r\n                    },\r\n                ]\r\n            };\r\n        },\r\n        computed: {},\r\n        watch: {},\r\n        components: {},\r\n        created() { },\r\n        mounted() {\r\n            this.init();\r\n        },\r\n        methods: {\r\n            init() {\r\n                let that = this\r\n                /* \r\n                   初始化\r\n                 */\r\n                let viewerOption = {\r\n                    shouldAnimate: true,\r\n                    infoBox: false,\r\n                    selectionIndicator: false,\r\n                    geocoder: false, // 地理位置查询定位控件\r\n                    homeButton: false, // 默认相机位置控件\r\n                    timeline: false, // 时间滚动条控件\r\n                    navigationHelpButton: false, // 默认的相机控制提示控件\r\n                    fullscreenButton: false, // 全屏控件\r\n                    scene3DOnly: true, // 每个几何实例仅以3D渲染以节省GPU内存\r\n                    baseLayerPicker: false, // 底图切换控件\r\n                    animation: false, // 控制场景动画的播放速度控件\r\n                    // terrainProvider: gee,\r\n                    imageryProvider: new Cesium.ArcGisMapServerImageryProvider({\r\n                        url:\r\n                            \"http://cache1.arcgisonline.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer\",\r\n                    }),\r\n                    // terrainProvider: new Cesium.CesiumTerrainProvider({\r\n                    //   url: Cesium.IonResource.fromAssetId(3956),\r\n                    // }),\r\n                };\r\n\r\n                viewer = new Cesium.Viewer(\"cesiumContainer\", viewerOption);\r\n                viewer._cesiumWidget._creditContainer.style.display = \"none\"; // 隐藏版权\r\n                viewer.scene.globe.depthTestAgainstTerrain = true;\r\n                scene = viewer.scene\r\n                this.loadCzmlData()\r\n            },\r\n            radioChange(v){\r\n                this.setExtrudedHeight(v)\r\n            },\r\n            loadCzmlData() {\r\n                dataSource = new Cesium.CzmlDataSource();\r\n                dataSource.load(this.czml);\r\n                viewer.dataSources.add(dataSource);\r\n                viewer.zoomTo(dataSource);\r\n                this.setExtrudedHeight(this.radio)\r\n            },\r\n            setExtrudedHeight(propertyName) {\r\n                var customPropertyObject = dataSource.entities.getById(\r\n                    \"custom_property_object\"\r\n                );\r\n                var property = customPropertyObject.properties[propertyName];\r\n                var colorado = dataSource.entities.getById(\"colorado\");\r\n\r\n                // Because the population values are so large, we scale them down\r\n                // by 50 so they fit on the screen.\r\n                // If we didn't need to scale, we could directly assign the property\r\n                // to extrudedHeight.\r\n                // colorado.polygon.extrudedHeight = scaleProperty(property, 1 / 50.0);\r\n                colorado.polygon.extrudedHeight = this.scaleProperty(property, 1 / 50.0);\r\n            },\r\n            scaleProperty(property, scalingFactor) {\r\n                // returns a property that scales another property by a constant factor.\r\n                return new Cesium.CallbackProperty(function (time, result) {\r\n                    result = property.getValue(time, result);\r\n                    result = result * scalingFactor;\r\n                    return result;\r\n                }, property.isConstant);\r\n            }\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    #cesiumContainer {\r\n        width: 100%;\r\n        height: 100vh;\r\n        margin: 0;\r\n        padding: 0;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .tool-box {\r\n        display: flex;\r\n        width: 25vw;\r\n        justify-content: space-around;\r\n        align-items: center;\r\n        position: absolute;\r\n        z-index: 1000;\r\n        right: 0;\r\n        top: 0;\r\n        padding: 10px 20px;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./calbackproperty.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./calbackproperty.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./calbackproperty.vue?vue&type=template&id=22340048&scoped=true&\"\nimport script from \"./calbackproperty.vue?vue&type=script&lang=js&\"\nexport * from \"./calbackproperty.vue?vue&type=script&lang=js&\"\nimport style0 from \"./calbackproperty.vue?vue&type=style&index=0&id=22340048&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22340048\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}