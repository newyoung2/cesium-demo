{"version":3,"sources":["webpack:///./src/views/wisdomCity/heatmap.vue?c490","webpack:///./node_modules/_heatmap.js@2.0.5@heatmap.js/build/heatmap.js","webpack:///./src/views/wisdomCity/heatmap.vue?35f1","webpack:///src/views/wisdomCity/heatmap.vue","webpack:///./src/views/wisdomCity/heatmap.vue?b560","webpack:///./src/views/wisdomCity/heatmap.vue"],"names":["name","context","factory","module","exports","this","HeatmapConfig","defaultRadius","defaultRenderer","defaultGradient","0.25","0.55","0.85","1","defaultMaxOpacity","defaultMinOpacity","defaultBlur","defaultXField","defaultYField","defaultValueField","plugins","Store","config","_coordinator","_data","_radi","_min","_max","_xField","_yField","_valueField","_cfgRadius","prototype","_organiseData","dataPoint","forceRender","x","y","radi","store","max","min","value","radius","storedVal","setDataMax","setDataMin","_unOrganizeData","unorganizedData","data","push","_onExtremaChange","emit","addData","arguments","length","dataArr","dataLen","call","organisedEntry","setData","dataPoints","pointsLen","i","_getInternalData","removeData","setCoordinator","coordinator","getData","Canvas2dRenderer","_getColorPalette","gradientConfig","gradient","paletteCanvas","document","createElement","paletteCtx","getContext","width","height","createLinearGradient","key","addColorStop","fillStyle","fillRect","getImageData","_getPointTemplate","blurFactor","tplCanvas","tplCtx","beginPath","arc","Math","PI","fill","createRadialGradient","_prepareData","renderData","xValues","Object","keys","xValuesLen","xValue","yValues","yValuesLen","yValue","container","shadowCanvas","canvas","computed","_renderBoundaries","getComputedStyle","className","_width","replace","_height","shadowCtx","ctx","style","cssText","position","appendChild","_palette","_templates","_setStyles","renderPartial","_drawAlpha","_colorize","renderAll","_clear","_updateGradient","updateConfig","setDimensions","clearRect","_blur","blur","backgroundColor","_opacity","opacity","_maxOpacity","maxOpacity","_minOpacity","minOpacity","_useGradientOpacity","useGradientOpacity","tpl","point","rectX","rectY","templateAlpha","globalAlpha","drawImage","maxWidth","maxHeight","img","imgData","len","palette","finalAlpha","alpha","offset","putImageData","getValueAt","abs","getDataURL","toDataURL","Renderer","rendererFn","Util","merge","merged","argsLen","obj","Heatmap","Coordinator","cStore","on","evtName","callback","scope","_connect","renderer","_renderer","_store","_config","onExtremaChange","pluginToLoad","Error","plugin","apply","configure","repaint","heatmapFactory","create","register","pluginKey","render","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","component"],"mappings":"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","file":"js/chunk-035557be.de5d3a4d.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./heatmap.vue?vue&type=style&index=0&id=aef2fefe&scoped=true&lang=css&\"","/*\n * heatmap.js v2.0.5 | JavaScript Heatmap Library\n *\n * Copyright 2008-2016 Patrick Wied <heatmapjs@patrick-wied.at> - All rights reserved.\n * Dual licensed under MIT and Beerware license \n *\n * :: 2016-09-05 01:16\n */\n;(function (name, context, factory) {\n\n  // Supports UMD. AMD, CommonJS/Node.js and browser context\n  if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else if (typeof define === \"function\" && define.amd) {\n    define(factory);\n  } else {\n    context[name] = factory();\n  }\n\n})(\"h337\", this, function () {\n\n// Heatmap Config stores default values and will be merged with instance config\nvar HeatmapConfig = {\n  defaultRadius: 40,\n  defaultRenderer: 'canvas2d',\n  defaultGradient: { 0.25: \"rgb(0,0,255)\", 0.55: \"rgb(0,255,0)\", 0.85: \"yellow\", 1.0: \"rgb(255,0,0)\"},\n  defaultMaxOpacity: 1,\n  defaultMinOpacity: 0,\n  defaultBlur: .85,\n  defaultXField: 'x',\n  defaultYField: 'y',\n  defaultValueField: 'value', \n  plugins: {}\n};\nvar Store = (function StoreClosure() {\n\n  var Store = function Store(config) {\n    this._coordinator = {};\n    this._data = [];\n    this._radi = [];\n    this._min = 10;\n    this._max = 1;\n    this._xField = config['xField'] || config.defaultXField;\n    this._yField = config['yField'] || config.defaultYField;\n    this._valueField = config['valueField'] || config.defaultValueField;\n\n    if (config[\"radius\"]) {\n      this._cfgRadius = config[\"radius\"];\n    }\n  };\n\n  var defaultRadius = HeatmapConfig.defaultRadius;\n\n  Store.prototype = {\n    // when forceRender = false -> called from setData, omits renderall event\n    _organiseData: function(dataPoint, forceRender) {\n        var x = dataPoint[this._xField];\n        var y = dataPoint[this._yField];\n        var radi = this._radi;\n        var store = this._data;\n        var max = this._max;\n        var min = this._min;\n        var value = dataPoint[this._valueField] || 1;\n        var radius = dataPoint.radius || this._cfgRadius || defaultRadius;\n\n        if (!store[x]) {\n          store[x] = [];\n          radi[x] = [];\n        }\n\n        if (!store[x][y]) {\n          store[x][y] = value;\n          radi[x][y] = radius;\n        } else {\n          store[x][y] += value;\n        }\n        var storedVal = store[x][y];\n\n        if (storedVal > max) {\n          if (!forceRender) {\n            this._max = storedVal;\n          } else {\n            this.setDataMax(storedVal);\n          }\n          return false;\n        } else if (storedVal < min) {\n          if (!forceRender) {\n            this._min = storedVal;\n          } else {\n            this.setDataMin(storedVal);\n          }\n          return false;\n        } else {\n          return { \n            x: x, \n            y: y,\n            value: value, \n            radius: radius,\n            min: min,\n            max: max \n          };\n        }\n    },\n    _unOrganizeData: function() {\n      var unorganizedData = [];\n      var data = this._data;\n      var radi = this._radi;\n\n      for (var x in data) {\n        for (var y in data[x]) {\n\n          unorganizedData.push({\n            x: x,\n            y: y,\n            radius: radi[x][y],\n            value: data[x][y]\n          });\n\n        }\n      }\n      return {\n        min: this._min,\n        max: this._max,\n        data: unorganizedData\n      };\n    },\n    _onExtremaChange: function() {\n      this._coordinator.emit('extremachange', {\n        min: this._min,\n        max: this._max\n      });\n    },\n    addData: function() {\n      if (arguments[0].length > 0) {\n        var dataArr = arguments[0];\n        var dataLen = dataArr.length;\n        while (dataLen--) {\n          this.addData.call(this, dataArr[dataLen]);\n        }\n      } else {\n        // add to store  \n        var organisedEntry = this._organiseData(arguments[0], true);\n        if (organisedEntry) {\n          // if it's the first datapoint initialize the extremas with it\n          if (this._data.length === 0) {\n            this._min = this._max = organisedEntry.value;\n          }\n          this._coordinator.emit('renderpartial', {\n            min: this._min,\n            max: this._max,\n            data: [organisedEntry]\n          });\n        }\n      }\n      return this;\n    },\n    setData: function(data) {\n      var dataPoints = data.data;\n      var pointsLen = dataPoints.length;\n\n\n      // reset data arrays\n      this._data = [];\n      this._radi = [];\n\n      for(var i = 0; i < pointsLen; i++) {\n        this._organiseData(dataPoints[i], false);\n      }\n      this._max = data.max;\n      this._min = data.min || 0;\n      \n      this._onExtremaChange();\n      this._coordinator.emit('renderall', this._getInternalData());\n      return this;\n    },\n    removeData: function() {\n      // TODO: implement\n    },\n    setDataMax: function(max) {\n      this._max = max;\n      this._onExtremaChange();\n      this._coordinator.emit('renderall', this._getInternalData());\n      return this;\n    },\n    setDataMin: function(min) {\n      this._min = min;\n      this._onExtremaChange();\n      this._coordinator.emit('renderall', this._getInternalData());\n      return this;\n    },\n    setCoordinator: function(coordinator) {\n      this._coordinator = coordinator;\n    },\n    _getInternalData: function() {\n      return { \n        max: this._max,\n        min: this._min, \n        data: this._data,\n        radi: this._radi \n      };\n    },\n    getData: function() {\n      return this._unOrganizeData();\n    }/*,\n\n      TODO: rethink.\n\n    getValueAt: function(point) {\n      var value;\n      var radius = 100;\n      var x = point.x;\n      var y = point.y;\n      var data = this._data;\n\n      if (data[x] && data[x][y]) {\n        return data[x][y];\n      } else {\n        var values = [];\n        // radial search for datapoints based on default radius\n        for(var distance = 1; distance < radius; distance++) {\n          var neighbors = distance * 2 +1;\n          var startX = x - distance;\n          var startY = y - distance;\n\n          for(var i = 0; i < neighbors; i++) {\n            for (var o = 0; o < neighbors; o++) {\n              if ((i == 0 || i == neighbors-1) || (o == 0 || o == neighbors-1)) {\n                if (data[startY+i] && data[startY+i][startX+o]) {\n                  values.push(data[startY+i][startX+o]);\n                }\n              } else {\n                continue;\n              } \n            }\n          }\n        }\n        if (values.length > 0) {\n          return Math.max.apply(Math, values);\n        }\n      }\n      return false;\n    }*/\n  };\n\n\n  return Store;\n})();\n\nvar Canvas2dRenderer = (function Canvas2dRendererClosure() {\n\n  var _getColorPalette = function(config) {\n    var gradientConfig = config.gradient || config.defaultGradient;\n    var paletteCanvas = document.createElement('canvas');\n    var paletteCtx = paletteCanvas.getContext('2d');\n\n    paletteCanvas.width = 256;\n    paletteCanvas.height = 1;\n\n    var gradient = paletteCtx.createLinearGradient(0, 0, 256, 1);\n    for (var key in gradientConfig) {\n      gradient.addColorStop(key, gradientConfig[key]);\n    }\n\n    paletteCtx.fillStyle = gradient;\n    paletteCtx.fillRect(0, 0, 256, 1);\n\n    return paletteCtx.getImageData(0, 0, 256, 1).data;\n  };\n\n  var _getPointTemplate = function(radius, blurFactor) {\n    var tplCanvas = document.createElement('canvas');\n    var tplCtx = tplCanvas.getContext('2d');\n    var x = radius;\n    var y = radius;\n    tplCanvas.width = tplCanvas.height = radius*2;\n\n    if (blurFactor == 1) {\n      tplCtx.beginPath();\n      tplCtx.arc(x, y, radius, 0, 2 * Math.PI, false);\n      tplCtx.fillStyle = 'rgba(0,0,0,1)';\n      tplCtx.fill();\n    } else {\n      var gradient = tplCtx.createRadialGradient(x, y, radius*blurFactor, x, y, radius);\n      gradient.addColorStop(0, 'rgba(0,0,0,1)');\n      gradient.addColorStop(1, 'rgba(0,0,0,0)');\n      tplCtx.fillStyle = gradient;\n      tplCtx.fillRect(0, 0, 2*radius, 2*radius);\n    }\n\n\n\n    return tplCanvas;\n  };\n\n  var _prepareData = function(data) {\n    var renderData = [];\n    var min = data.min;\n    var max = data.max;\n    var radi = data.radi;\n    var data = data.data;\n\n    var xValues = Object.keys(data);\n    var xValuesLen = xValues.length;\n\n    while(xValuesLen--) {\n      var xValue = xValues[xValuesLen];\n      var yValues = Object.keys(data[xValue]);\n      var yValuesLen = yValues.length;\n      while(yValuesLen--) {\n        var yValue = yValues[yValuesLen];\n        var value = data[xValue][yValue];\n        var radius = radi[xValue][yValue];\n        renderData.push({\n          x: xValue,\n          y: yValue,\n          value: value,\n          radius: radius\n        });\n      }\n    }\n\n    return {\n      min: min,\n      max: max,\n      data: renderData\n    };\n  };\n\n\n  function Canvas2dRenderer(config) {\n    var container = config.container;\n    var shadowCanvas = this.shadowCanvas = document.createElement('canvas');\n    var canvas = this.canvas = config.canvas || document.createElement('canvas');\n    var renderBoundaries = this._renderBoundaries = [10000, 10000, 0, 0];\n\n    var computed = getComputedStyle(config.container) || {};\n\n    canvas.className = 'heatmap-canvas';\n\n    this._width = canvas.width = shadowCanvas.width = config.width || +(computed.width.replace(/px/,''));\n    this._height = canvas.height = shadowCanvas.height = config.height || +(computed.height.replace(/px/,''));\n\n    this.shadowCtx = shadowCanvas.getContext('2d');\n    this.ctx = canvas.getContext('2d');\n\n    // @TODO:\n    // conditional wrapper\n\n    canvas.style.cssText = shadowCanvas.style.cssText = 'position:absolute;left:0;top:0;';\n\n    container.style.position = 'relative';\n    container.appendChild(canvas);\n\n    this._palette = _getColorPalette(config);\n    this._templates = {};\n\n    this._setStyles(config);\n  };\n\n  Canvas2dRenderer.prototype = {\n    renderPartial: function(data) {\n      if (data.data.length > 0) {\n        this._drawAlpha(data);\n        this._colorize();\n      }\n    },\n    renderAll: function(data) {\n      // reset render boundaries\n      this._clear();\n      if (data.data.length > 0) {\n        this._drawAlpha(_prepareData(data));\n        this._colorize();\n      }\n    },\n    _updateGradient: function(config) {\n      this._palette = _getColorPalette(config);\n    },\n    updateConfig: function(config) {\n      if (config['gradient']) {\n        this._updateGradient(config);\n      }\n      this._setStyles(config);\n    },\n    setDimensions: function(width, height) {\n      this._width = width;\n      this._height = height;\n      this.canvas.width = this.shadowCanvas.width = width;\n      this.canvas.height = this.shadowCanvas.height = height;\n    },\n    _clear: function() {\n      this.shadowCtx.clearRect(0, 0, this._width, this._height);\n      this.ctx.clearRect(0, 0, this._width, this._height);\n    },\n    _setStyles: function(config) {\n      this._blur = (config.blur == 0)?0:(config.blur || config.defaultBlur);\n\n      if (config.backgroundColor) {\n        this.canvas.style.backgroundColor = config.backgroundColor;\n      }\n\n      this._width = this.canvas.width = this.shadowCanvas.width = config.width || this._width;\n      this._height = this.canvas.height = this.shadowCanvas.height = config.height || this._height;\n\n\n      this._opacity = (config.opacity || 0) * 255;\n      this._maxOpacity = (config.maxOpacity || config.defaultMaxOpacity) * 255;\n      this._minOpacity = (config.minOpacity || config.defaultMinOpacity) * 255;\n      this._useGradientOpacity = !!config.useGradientOpacity;\n    },\n    _drawAlpha: function(data) {\n      var min = this._min = data.min;\n      var max = this._max = data.max;\n      var data = data.data || [];\n      var dataLen = data.length;\n      // on a point basis?\n      var blur = 1 - this._blur;\n\n      while(dataLen--) {\n\n        var point = data[dataLen];\n\n        var x = point.x;\n        var y = point.y;\n        var radius = point.radius;\n        // if value is bigger than max\n        // use max as value\n        var value = Math.min(point.value, max);\n        var rectX = x - radius;\n        var rectY = y - radius;\n        var shadowCtx = this.shadowCtx;\n\n\n\n\n        var tpl;\n        if (!this._templates[radius]) {\n          this._templates[radius] = tpl = _getPointTemplate(radius, blur);\n        } else {\n          tpl = this._templates[radius];\n        }\n        // value from minimum / value range\n        // => [0, 1]\n        var templateAlpha = (value-min)/(max-min);\n        // this fixes #176: small values are not visible because globalAlpha < .01 cannot be read from imageData\n        shadowCtx.globalAlpha = templateAlpha < .01 ? .01 : templateAlpha;\n\n        shadowCtx.drawImage(tpl, rectX, rectY);\n\n        // update renderBoundaries\n        if (rectX < this._renderBoundaries[0]) {\n            this._renderBoundaries[0] = rectX;\n          }\n          if (rectY < this._renderBoundaries[1]) {\n            this._renderBoundaries[1] = rectY;\n          }\n          if (rectX + 2*radius > this._renderBoundaries[2]) {\n            this._renderBoundaries[2] = rectX + 2*radius;\n          }\n          if (rectY + 2*radius > this._renderBoundaries[3]) {\n            this._renderBoundaries[3] = rectY + 2*radius;\n          }\n\n      }\n    },\n    _colorize: function() {\n      var x = this._renderBoundaries[0];\n      var y = this._renderBoundaries[1];\n      var width = this._renderBoundaries[2] - x;\n      var height = this._renderBoundaries[3] - y;\n      var maxWidth = this._width;\n      var maxHeight = this._height;\n      var opacity = this._opacity;\n      var maxOpacity = this._maxOpacity;\n      var minOpacity = this._minOpacity;\n      var useGradientOpacity = this._useGradientOpacity;\n\n      if (x < 0) {\n        x = 0;\n      }\n      if (y < 0) {\n        y = 0;\n      }\n      if (x + width > maxWidth) {\n        width = maxWidth - x;\n      }\n      if (y + height > maxHeight) {\n        height = maxHeight - y;\n      }\n\n      var img = this.shadowCtx.getImageData(x, y, width, height);\n      var imgData = img.data;\n      var len = imgData.length;\n      var palette = this._palette;\n\n\n      for (var i = 3; i < len; i+= 4) {\n        var alpha = imgData[i];\n        var offset = alpha * 4;\n\n\n        if (!offset) {\n          continue;\n        }\n\n        var finalAlpha;\n        if (opacity > 0) {\n          finalAlpha = opacity;\n        } else {\n          if (alpha < maxOpacity) {\n            if (alpha < minOpacity) {\n              finalAlpha = minOpacity;\n            } else {\n              finalAlpha = alpha;\n            }\n          } else {\n            finalAlpha = maxOpacity;\n          }\n        }\n\n        imgData[i-3] = palette[offset];\n        imgData[i-2] = palette[offset + 1];\n        imgData[i-1] = palette[offset + 2];\n        imgData[i] = useGradientOpacity ? palette[offset + 3] : finalAlpha;\n\n      }\n\n      img.data = imgData;\n      this.ctx.putImageData(img, x, y);\n\n      this._renderBoundaries = [1000, 1000, 0, 0];\n\n    },\n    getValueAt: function(point) {\n      var value;\n      var shadowCtx = this.shadowCtx;\n      var img = shadowCtx.getImageData(point.x, point.y, 1, 1);\n      var data = img.data[3];\n      var max = this._max;\n      var min = this._min;\n\n      value = (Math.abs(max-min) * (data/255)) >> 0;\n\n      return value;\n    },\n    getDataURL: function() {\n      return this.canvas.toDataURL();\n    }\n  };\n\n\n  return Canvas2dRenderer;\n})();\n\n\nvar Renderer = (function RendererClosure() {\n\n  var rendererFn = false;\n\n  if (HeatmapConfig['defaultRenderer'] === 'canvas2d') {\n    rendererFn = Canvas2dRenderer;\n  }\n\n  return rendererFn;\n})();\n\n\nvar Util = {\n  merge: function() {\n    var merged = {};\n    var argsLen = arguments.length;\n    for (var i = 0; i < argsLen; i++) {\n      var obj = arguments[i]\n      for (var key in obj) {\n        merged[key] = obj[key];\n      }\n    }\n    return merged;\n  }\n};\n// Heatmap Constructor\nvar Heatmap = (function HeatmapClosure() {\n\n  var Coordinator = (function CoordinatorClosure() {\n\n    function Coordinator() {\n      this.cStore = {};\n    };\n\n    Coordinator.prototype = {\n      on: function(evtName, callback, scope) {\n        var cStore = this.cStore;\n\n        if (!cStore[evtName]) {\n          cStore[evtName] = [];\n        }\n        cStore[evtName].push((function(data) {\n            return callback.call(scope, data);\n        }));\n      },\n      emit: function(evtName, data) {\n        var cStore = this.cStore;\n        if (cStore[evtName]) {\n          var len = cStore[evtName].length;\n          for (var i=0; i<len; i++) {\n            var callback = cStore[evtName][i];\n            callback(data);\n          }\n        }\n      }\n    };\n\n    return Coordinator;\n  })();\n\n\n  var _connect = function(scope) {\n    var renderer = scope._renderer;\n    var coordinator = scope._coordinator;\n    var store = scope._store;\n\n    coordinator.on('renderpartial', renderer.renderPartial, renderer);\n    coordinator.on('renderall', renderer.renderAll, renderer);\n    coordinator.on('extremachange', function(data) {\n      scope._config.onExtremaChange &&\n      scope._config.onExtremaChange({\n        min: data.min,\n        max: data.max,\n        gradient: scope._config['gradient'] || scope._config['defaultGradient']\n      });\n    });\n    store.setCoordinator(coordinator);\n  };\n\n\n  function Heatmap() {\n    var config = this._config = Util.merge(HeatmapConfig, arguments[0] || {});\n    this._coordinator = new Coordinator();\n    if (config['plugin']) {\n      var pluginToLoad = config['plugin'];\n      if (!HeatmapConfig.plugins[pluginToLoad]) {\n        throw new Error('Plugin \\''+ pluginToLoad + '\\' not found. Maybe it was not registered.');\n      } else {\n        var plugin = HeatmapConfig.plugins[pluginToLoad];\n        // set plugin renderer and store\n        this._renderer = new plugin.renderer(config);\n        this._store = new plugin.store(config);\n      }\n    } else {\n      this._renderer = new Renderer(config);\n      this._store = new Store(config);\n    }\n    _connect(this);\n  };\n\n  // @TODO:\n  // add API documentation\n  Heatmap.prototype = {\n    addData: function() {\n      this._store.addData.apply(this._store, arguments);\n      return this;\n    },\n    removeData: function() {\n      this._store.removeData && this._store.removeData.apply(this._store, arguments);\n      return this;\n    },\n    setData: function() {\n      this._store.setData.apply(this._store, arguments);\n      return this;\n    },\n    setDataMax: function() {\n      this._store.setDataMax.apply(this._store, arguments);\n      return this;\n    },\n    setDataMin: function() {\n      this._store.setDataMin.apply(this._store, arguments);\n      return this;\n    },\n    configure: function(config) {\n      this._config = Util.merge(this._config, config);\n      this._renderer.updateConfig(this._config);\n      this._coordinator.emit('renderall', this._store._getInternalData());\n      return this;\n    },\n    repaint: function() {\n      this._coordinator.emit('renderall', this._store._getInternalData());\n      return this;\n    },\n    getData: function() {\n      return this._store.getData();\n    },\n    getDataURL: function() {\n      return this._renderer.getDataURL();\n    },\n    getValueAt: function(point) {\n\n      if (this._store.getValueAt) {\n        return this._store.getValueAt(point);\n      } else  if (this._renderer.getValueAt) {\n        return this._renderer.getValueAt(point);\n      } else {\n        return null;\n      }\n    }\n  };\n\n  return Heatmap;\n\n})();\n\n\n// core\nvar heatmapFactory = {\n  create: function(config) {\n    return new Heatmap(config);\n  },\n  register: function(pluginKey, plugin) {\n    HeatmapConfig.plugins[pluginKey] = plugin;\n  }\n};\n\nreturn heatmapFactory;\n\n\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cesiumContainer\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"cesiumContainer\">\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import * as Cesium from \"cesium/Cesium\";\r\n    import h337 from \"heatmap.js\"\r\n    import widget from \"cesium/Widgets/widgets.css\";\r\n    // import util from '../../util/cesiumUtil'\r\n    var viewer = null;\r\n    var tileset = null;\r\n    var handler = null\r\n\r\n\r\n    export default {\r\n        name: \"load3DTiles\",\r\n        props: {},\r\n        data() {\r\n            return {\r\n\r\n            };\r\n        },\r\n        computed: {},\r\n        watch: {},\r\n        components: {},\r\n        created() { },\r\n        mounted() {\r\n            this.init();\r\n        },\r\n        methods: {\r\n            init() {\r\n                let that = this\r\n                /* \r\n                   初始化\r\n                 */\r\n                let viewerOption = {\r\n                    infoBox: false,\r\n                    selectionIndicator: false,\r\n                    geocoder: false, // 地理位置查询定位控件\r\n                    homeButton: false, // 默认相机位置控件\r\n                    timeline: false, // 时间滚动条控件\r\n                    navigationHelpButton: false, // 默认的相机控制提示控件\r\n                    fullscreenButton: false, // 全屏控件\r\n                    scene3DOnly: true, // 每个几何实例仅以3D渲染以节省GPU内存\r\n                    baseLayerPicker: true, // 底图切换控件\r\n                    animation: false, // 控制场景动画的播放速度控件\r\n                    imageryProvider: new Cesium.ArcGisMapServerImageryProvider({\r\n                        url:\r\n                            \"http://cache1.arcgisonline.cn/arcgis/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}\",\r\n                    }),\r\n                };\r\n\r\n                //使用ion数据   需要先申请token\r\n                Cesium.Ion.defaultAccessToken =\r\n                    \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzZjFjYmZmNS1hYmNjLTRhZWUtYjlkNi02ODVmOGRjNGQ2N2MiLCJpZCI6Mzg4MzUsImlhdCI6MTYwNjg3Mzk0MX0.R0iO5eELEnpRqQCzoa33UZakcsTYUidaTP9nLa342wY\";\r\n                viewer = new Cesium.Viewer(\"cesiumContainer\", viewerOption);\r\n                viewer._cesiumWidget._creditContainer.style.display = \"none\"; // 隐藏版权\r\n\r\n                // 第一个热力图\r\n                var coordinate1 = [-109.0, 10.0, -80.0, 35.0];\r\n                var heatMap1 = that.createHeatMap(that.getData(1000).max, that.getData(1000).data);\r\n                that.createRectangle(viewer, coordinate1, heatMap1);\r\n\r\n                // 第二个热力图\r\n                var coordinate2 = [-109.0, 30.0, -80.0, 41.0];\r\n                var heatMap2 = that.createHeatMap(that.getData(3000).max, that.getData(3000).data);\r\n                 that.createRectangle(viewer, coordinate2, heatMap2);\r\n\r\n                // 第三个热力图\r\n                var coordinate3 = [-109.0, 41.0, -80.0, 50.0];\r\n                var heatMap3 = that.createHeatMap(that.getData(5000).max, that.getData(5000).data);\r\n                 that.createRectangle(viewer, coordinate3, heatMap3);\r\n\r\n\r\n            },\r\n            // 创建热力图\r\n            createHeatMap(max, data) {\r\n                // 创建元素\r\n                var heatDoc = document.createElement(\"div\");\r\n                heatDoc.setAttribute(\"style\", \"width:1000px;height:1000px;margin: 0px;display: none;\");\r\n                document.body.appendChild(heatDoc);\r\n                // 创建热力图对象\r\n                var heatmap = h337.create({\r\n                    container: heatDoc,\r\n                    radius: 20,\r\n                    maxOpacity: .5,\r\n                    minOpacity: 0,\r\n                    blur: .75,\r\n                    gradient: {\r\n                        '0.9': 'red',\r\n                        '0.8': 'orange',\r\n                        '0.7': 'yellow',\r\n                        '0.5': 'blue',\r\n                        '0.3': 'green',\r\n                    },\r\n                });\r\n                // 添加数据\r\n                heatmap.setData({\r\n                    max: max,\r\n                    data: data\r\n                });\r\n                return heatmap;\r\n            },\r\n\r\n            // 创建正方形 绑定热力图 \r\n            createRectangle(viewer, coordinate, heatMap) {\r\n                viewer.entities.add({\r\n                    name: 'Rotating rectangle with rotating texture coordinate',\r\n                    show: true,\r\n                    rectangle: {\r\n                        coordinates: Cesium.Rectangle.fromDegrees(coordinate[0], coordinate[1], coordinate[2], coordinate[3]),\r\n                        material: heatMap._renderer.canvas // 核心语句，填充热力图\r\n                    }\r\n                });\r\n            },\r\n            // 生成len个随机数据\r\n            getData(len) {\r\n                //构建一些随机数据点\r\n                var points = [];\r\n                var max = 0;\r\n                var width = 1000;\r\n                var height = 1000;\r\n                while (len--) {\r\n                    var val = Math.floor(Math.random() * 1000);\r\n                    max = Math.max(max, val);\r\n                    var point = {\r\n                        x: Math.floor(Math.random() * width),\r\n                        y: Math.floor(Math.random() * height),\r\n                        value: val\r\n                    };\r\n                    points.push(point);\r\n                }\r\n                return { max: max, data: points }\r\n            },\r\n\r\n\r\n\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    #cesiumContainer {\r\n        width: 100%;\r\n        height: 100vh;\r\n        margin: 0;\r\n        padding: 0;\r\n        overflow: hidden;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./heatmap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./heatmap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./heatmap.vue?vue&type=template&id=aef2fefe&scoped=true&\"\nimport script from \"./heatmap.vue?vue&type=script&lang=js&\"\nexport * from \"./heatmap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./heatmap.vue?vue&type=style&index=0&id=aef2fefe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aef2fefe\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}