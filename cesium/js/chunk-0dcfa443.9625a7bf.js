(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dcfa443"],{"0610":function(e,t,i){var n=i("21e0"),o=i("7b58"),r="["+o+"]",a=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),l=function(e){return function(t){var i=String(n(t));return 1&e&&(i=i.replace(a,"")),2&e&&(i=i.replace(s,"")),i}};e.exports={start:l(1),end:l(2),trim:l(3)}},4248:function(e,t,i){"use strict";i("8e33")},"5cd0":function(e,t,i){var n=i("3b29"),o=i("b14e");e.exports=function(e,t,i){var r,a;return o&&"function"==typeof(r=t.constructor)&&r!==i&&n(a=r.prototype)&&a!==i.prototype&&o(e,a),e}},"7b58":function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"8e33":function(e,t,i){},"9f52":function(e,t,i){"use strict";i.r(t);var n,o,r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"cesiumContainer"}},[i("el-button",{staticStyle:{position:"absolute",right:"32vh",top:"2vh","z-index":"100"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.reset(t)}}},[e._v(" 重置")]),i("el-button",{staticStyle:{position:"absolute",right:"20vh",top:"2vh","z-index":"100"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.startDraw(t)}}},[e._v("画点")]),i("el-button",{staticStyle:{position:"absolute",right:"8vh",top:"2vh","z-index":"100"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.save(t)}}},[e._v("保存 ")])],1)},a=[],s=(i("3610"),i("1564"),i("d174"),i("f644"),i("acc5")),l=i("5e1a"),c=(i("5b17"),null),u=null,d=null,p={name:"load3DTiles",props:{},data:function(){return{tileset:null,pointArr:[],degreeArr:[],degreeHeight:[],isDrawPoint:!1,geojson:[]}},computed:{},watch:{},components:{},created:function(){},mounted:function(){this.init()},methods:{init:function(){var e=this,t={infoBox:!1,selectionIndicator:!1,geocoder:!1,homeButton:!1,timeline:!1,navigationHelpButton:!1,fullscreenButton:!1,scene3DOnly:!0,baseLayerPicker:!1,animation:!1,terrainProvider:new s["i"]({url:s["K"].fromAssetId(3956)})};c=new s["rb"]("cesiumContainer",t),c._cesiumWidget._creditContainer.style.display="none",c.scene.globe.depthTestAgainstTerrain=!0,n=c.scene,e.load3DTileModel(),e.addLeftClickEvent()},startDraw:function(){this.isDrawPoint=!0,c.scene.screenSpaceCameraController.enableRotate=!1,c.scene.screenSpaceCameraController.enableTranslate=!1,c.scene.screenSpaceCameraController.enableTilt=!1},load3DTileModel:function(){var e=new s["bb"]({url:"test/Scene/Production_6.json"});console.log(e),u=new s["h"]({url:"test/Scene/Production_6.json",maximumScreenSpaceError:4,maximumNumberOfLoadedTiles:1e3}),c.scene.primitives.add(u),u.readyPromise.then((function(e){var t=e.boundingSphere,i=s["f"].fromCartesian(t.center),n=s["e"].fromRadians(i.longitude,i.latitude,i.height),o=s["e"].fromRadians(s["P"].toRadians(106.709183),s["P"].toRadians(26.562819),-32),r=s["e"].subtract(o,n,new s["e"]);e.modelMatrix=s["R"].fromTranslation(r),c.zoomTo(e)}))},addLdPrimitive:function(){this.geojson.forEach((function(e){o.add(new s["j"]({geometryInstances:new s["B"]({geometry:new s["T"]({polygonHierarchy:new s["U"](s["e"].fromDegreesArray(e.arr)),extrudedHeight:100,height:-100}),attributes:{color:s["r"].fromColor(new s["q"](1,1,1,1e-4)),show:new s["hb"](!0)},id:e.id}),classificationType:s["k"].BOTH}))})),c.scene.primitives.add(o)},addLeftClickEvent:function(){var e=this;d=new s["eb"](c.scene.canvas),d.setInputAction((function(t){var i=c.scene.pickPosition(t.position),n=s["f"].fromCartesian(i),o=s["P"].toDegrees(n.longitude),r=s["P"].toDegrees(n.latitude),a=n.height;e.isDrawPoint&&e.drawPoint(i,[o,r],a)}),s["fb"].LEFT_CLICK),d.setInputAction((function(t){var i=c.scene.pickPosition(t.position),n=s["f"].fromCartesian(i);s["P"].toDegrees(n.longitude),s["P"].toDegrees(n.latitude),n.height;e.isDrawPoint&&e.drawPolygon(i)}),s["fb"].RIGHT_CLICK)},cameraFly:function(e){var t=c.scene.pickPosition(e.position),i=s["f"].fromCartesian(t),o=s["P"].toDegrees(i.longitude),r=s["P"].toDegrees(i.latitude),a=i.height,l=s["P"].toRadians(o),u=s["P"].toRadians(r),d=a,p=new s["f"](l,u,.5*d),h=n.globe.ellipsoid.cartographicToCartesian(p),f=n.camera,g=f.heading,m=f.pitch,v=this.offsetFromHeadingPitchRange(g,m,16*d),b=s["lb"].eastNorthUpToFixedFrame(h);s["R"].multiplyByPoint(b,v,h),f.flyTo({destination:h,orientation:{heading:g,pitch:m},easingFunction:s["v"].QUADRATIC_OUT})},offsetFromHeadingPitchRange:function(e,t,i){t=s["P"].clamp(t,-s["P"].PI_OVER_TWO,s["P"].PI_OVER_TWO),e=s["P"].zeroToTwoPi(e)-s["P"].PI_OVER_TWO;var n=s["Z"].fromAxisAngle(s["e"].UNIT_Y,-t),o=s["Z"].fromAxisAngle(s["e"].UNIT_Z,-e),r=s["Z"].multiply(o,n,o),a=s["Q"].fromQuaternion(r),l=s["e"].clone(s["e"].UNIT_X);return s["Q"].multiplyByVector(a,l,l),s["e"].negate(l,l),s["e"].multiplyByScalar(l,i,l),l},scanLine:function(){for(var e=s["e"].fromDegrees(106.70707216579464,26.56379390155953),t=s["e"].fromDegrees(106.7079252734644,26.562935758126347),i=300,n=new Array(i),o=0;o<i;++o){var r=o/(i-1);n[o]=s["e"].lerp(e,t,r,new s["e"])}var a=[106.70687752201412,26.563720844320446,106.70705799645077,26.563905853809782,106.70788118373893,26.562992300929444,106.70771926639411,26.562893255731105],l=new s["C"]({geometryInstances:new s["B"]({geometry:new s["T"]({polygonHierarchy:new s["U"](s["e"].fromDegreesArray(a)),extrudedHeight:1e4,height:-100})}),appearance:new s["z"]({aboveGround:!0}),classificationType:s["k"].BOTH,show:!0});c.scene.primitives.add(l),console.log(c.scene.primitives)},drawPoint:function(e,t,i){this.degreeArr.push(t),this.degreeHeight=i,this.pointArr.push(e);var n=c.entities.add({position:e,point:{pixelSize:10,color:s["q"].BLUE,outlineWidth:2,outlineColor:s["q"].WHITE}});return n},drawPolygon:function(e){var t=this;console.log(this.degreeArr);var i=l["lineString"](this.degreeArr),n=l["bezierSpline"](i,{sharpness:2});console.log(n);var o=[];n.geometry.coordinates.map((function(e){o.push(e[0]),o.push(e[1]),o.push(t.degreeHeight)}));var r=JSON.parse(JSON.stringify(this.degreeArr));r.push(r[0]);var a=l["polygon"]([r]),u=l["area"](a);console.log("面积",u);var d=JSON.parse(JSON.stringify(n.geometry.coordinates));d.push(r[0]);var p=l["polygon"]([d]),h=l["area"](p);console.log("面积1",h);var f=c.entities.add({position:this.pointArr[0],polygon:{hierarchy:s["e"].fromDegreesArrayHeights(o),material:s["q"].MEDIUMAQUAMARINE.withAlpha(.5),perPositionHeight:!0},polyline:{positions:s["e"].fromDegreesArrayHeights(o),width:2.5,show:!0,material:new s["W"]({color:s["q"].TOMATO.withAlpha(.8),outlineWidth:1,outlineColor:s["q"].TOMATO.withAlpha(.8)})}});return f},save:function(){this.isDrawPoint=!1;var e=[];this.pointArr.forEach((function(t){e.push(t.longitude),e.push(t.latitude)}));var t={id:(new Date).getTime()+"",height:this.pointArr[0].height,list:this.pointArr,arr:e};this.geojson.push(t),this.pointArr=[],console.log(this.geojson),this.addLdPrimitive()},reset:function(){c.entities.removeAll(),this.pointArr=[],this.degreeArr=[],this.degreeHeight="",this.geojson=[],this.isDrawPoint=!1,c.scene.screenSpaceCameraController.enableRotate=!0,c.scene.screenSpaceCameraController.enableTranslate=!0,c.scene.screenSpaceCameraController.enableTilt=!0},drawBillboard:function(e,t){e.z=e.z+50;var i=c.entities.add({name:"Citizens Bank Park",position:e,point:{pixelSize:5,color:s["q"].RED,outlineColor:s["q"].WHITE,outlineWidth:2},label:{text:"Citizens Bank Park",font:"14pt monospace",style:s["N"].FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:s["pb"].BOTTOM,pixelOffset:new s["d"](0,-9)}});return i},changeRotate:function(){var e=u.modelMatrix,t=s["Q"].fromRotationX(s["P"].toRadians(1));s["R"].multiplyByMatrix3(e,t,e),u.modelMatrix=e},changeHeight:function(e){if(e=Number(e),!isNaN(e)){var t=s["f"].fromCartesian(u.boundingSphere.center),i=s["e"].fromRadians(t.longitude,t.latitude,t.height),n=s["e"].fromRadians(t.longitude,t.latitude,e),o=s["e"].subtract(n,i,new s["e"]);u.modelMatrix=s["R"].fromTranslation(o)}},addShape:function(){c.entities.add({name:"Red box with black outline",position:s["e"].fromDegrees(-107,40,3e5),box:{dimensions:new s["e"](4e5,3e5,5e5),material:s["q"].RED.withAlpha(.5),outline:!0,outlineColor:s["q"].BLACK}});c.zoomTo(c.entities)},addShapeByCZML:function(){var e=[{id:"document",name:"box",version:"1.0"},{id:"shape2",name:"Red box with black outline",position:{cartographicDegrees:[-107,40,3e5]},box:{dimensions:{cartesian:[4e5,3e5,5e5]},material:{solidColor:{color:{rgba:[255,0,0,128]}}},outline:!0,outlineColor:{rgba:[0,0,0,255]}}}],t=s["t"].load(e);c.dataSources.add(t),c.zoomTo(t)}}},h=p,f=(i("4248"),i("c701")),g=Object(f["a"])(h,r,a,!1,null,"746efb02",null);t["default"]=g.exports},d174:function(e,t,i){"use strict";var n=i("35a9"),o=i("efd0"),r=i("1b38"),a=i("d496"),s=i("0117"),l=i("c7d8"),c=i("5cd0"),u=i("bab3"),d=i("aad0"),p=i("8e7d"),h=i("6b64").f,f=i("977b").f,g=i("30cf").f,m=i("0610").trim,v="Number",b=o[v],y=b.prototype,w=l(p(y))==v,A=function(e){var t,i,n,o,r,a,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=m(c),t=c.charCodeAt(0),43===t||45===t){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(r=c.slice(2),a=r.length,s=0;s<a;s++)if(l=r.charCodeAt(s),l<48||l>o)return NaN;return parseInt(r,n)}return+c};if(r(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var T,P=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof P&&(w?d((function(){y.valueOf.call(i)})):l(i)!=v)?c(new b(A(t)),i,P):A(t)},C=n?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;C.length>I;I++)s(b,T=C[I])&&!s(P,T)&&g(P,T,f(b,T));P.prototype=y,y.constructor=P,a(o,v,P)}}}]);
//# sourceMappingURL=chunk-0dcfa443.9625a7bf.js.map