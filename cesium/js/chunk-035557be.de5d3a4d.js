(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-035557be"],{"3f80":function(t,e,a){"use strict";a("7cea")},"5b6c":function(t,e,a){var i,n;(function(r,s,h){t.exports?t.exports=h():(i=h,n="function"===typeof i?i.call(e,a,e,t):i,void 0===n||(t.exports=n))})(0,0,(function(){var t={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},e=function(){var e=function(t){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=t["xField"]||t.defaultXField,this._yField=t["yField"]||t.defaultYField,this._valueField=t["valueField"]||t.defaultValueField,t["radius"]&&(this._cfgRadius=t["radius"])},a=t.defaultRadius;return e.prototype={_organiseData:function(t,e){var i=t[this._xField],n=t[this._yField],r=this._radi,s=this._data,h=this._max,o=this._min,d=t[this._valueField]||1,l=t.radius||this._cfgRadius||a;s[i]||(s[i]=[],r[i]=[]),s[i][n]?s[i][n]+=d:(s[i][n]=d,r[i][n]=l);var u=s[i][n];return u>h?(e?this.setDataMax(u):this._max=u,!1):u<o?(e?this.setDataMin(u):this._min=u,!1):{x:i,y:n,value:d,radius:l,min:o,max:h}},_unOrganizeData:function(){var t=[],e=this._data,a=this._radi;for(var i in e)for(var n in e[i])t.push({x:i,y:n,radius:a[i][n],value:e[i][n]});return{min:this._min,max:this._max,data:t}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0){var t=arguments[0],e=t.length;while(e--)this.addData.call(this,t[e])}else{var a=this._organiseData(arguments[0],!0);a&&(0===this._data.length&&(this._min=this._max=a.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[a]}))}return this},setData:function(t){var e=t.data,a=e.length;this._data=[],this._radi=[];for(var i=0;i<a;i++)this._organiseData(e[i],!1);return this._max=t.max,this._min=t.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(t){return this._max=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(t){return this._min=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(t){this._coordinator=t},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},e}(),a=function(){var t=function(t){var e=t.gradient||t.defaultGradient,a=document.createElement("canvas"),i=a.getContext("2d");a.width=256,a.height=1;var n=i.createLinearGradient(0,0,256,1);for(var r in e)n.addColorStop(r,e[r]);return i.fillStyle=n,i.fillRect(0,0,256,1),i.getImageData(0,0,256,1).data},e=function(t,e){var a=document.createElement("canvas"),i=a.getContext("2d"),n=t,r=t;if(a.width=a.height=2*t,1==e)i.beginPath(),i.arc(n,r,t,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{var s=i.createRadialGradient(n,r,t*e,n,r,t);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=s,i.fillRect(0,0,2*t,2*t)}return a},a=function(t){var e=[],a=t.min,i=t.max,n=t.radi,r=(t=t.data,Object.keys(t)),s=r.length;while(s--){var h=r[s],o=Object.keys(t[h]),d=o.length;while(d--){var l=o[d],u=t[h][l],c=n[h][l];e.push({x:h,y:l,value:u,radius:c})}}return{min:a,max:i,data:e}};function i(e){var a=e.container,i=this.shadowCanvas=document.createElement("canvas"),n=this.canvas=e.canvas||document.createElement("canvas"),r=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(e.container)||{});n.className="heatmap-canvas",this._width=n.width=i.width=e.width||+r.width.replace(/px/,""),this._height=n.height=i.height=e.height||+r.height.replace(/px/,""),this.shadowCtx=i.getContext("2d"),this.ctx=n.getContext("2d"),n.style.cssText=i.style.cssText="position:absolute;left:0;top:0;",a.style.position="relative",a.appendChild(n),this._palette=t(e),this._templates={},this._setStyles(e)}return i.prototype={renderPartial:function(t){t.data.length>0&&(this._drawAlpha(t),this._colorize())},renderAll:function(t){this._clear(),t.data.length>0&&(this._drawAlpha(a(t)),this._colorize())},_updateGradient:function(e){this._palette=t(e)},updateConfig:function(t){t["gradient"]&&this._updateGradient(t),this._setStyles(t)},setDimensions:function(t,e){this._width=t,this._height=e,this.canvas.width=this.shadowCanvas.width=t,this.canvas.height=this.shadowCanvas.height=e},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(t){this._blur=0==t.blur?0:t.blur||t.defaultBlur,t.backgroundColor&&(this.canvas.style.backgroundColor=t.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=t.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=t.height||this._height,this._opacity=255*(t.opacity||0),this._maxOpacity=255*(t.maxOpacity||t.defaultMaxOpacity),this._minOpacity=255*(t.minOpacity||t.defaultMinOpacity),this._useGradientOpacity=!!t.useGradientOpacity},_drawAlpha:function(t){var a=this._min=t.min,i=this._max=t.max,n=(t=t.data||[],t.length),r=1-this._blur;while(n--){var s,h=t[n],o=h.x,d=h.y,l=h.radius,u=Math.min(h.value,i),c=o-l,_=d-l,g=this.shadowCtx;this._templates[l]?s=this._templates[l]:this._templates[l]=s=e(l,r);var f=(u-a)/(i-a);g.globalAlpha=f<.01?.01:f,g.drawImage(s,c,_),c<this._renderBoundaries[0]&&(this._renderBoundaries[0]=c),_<this._renderBoundaries[1]&&(this._renderBoundaries[1]=_),c+2*l>this._renderBoundaries[2]&&(this._renderBoundaries[2]=c+2*l),_+2*l>this._renderBoundaries[3]&&(this._renderBoundaries[3]=_+2*l)}},_colorize:function(){var t=this._renderBoundaries[0],e=this._renderBoundaries[1],a=this._renderBoundaries[2]-t,i=this._renderBoundaries[3]-e,n=this._width,r=this._height,s=this._opacity,h=this._maxOpacity,o=this._minOpacity,d=this._useGradientOpacity;t<0&&(t=0),e<0&&(e=0),t+a>n&&(a=n-t),e+i>r&&(i=r-e);for(var l=this.shadowCtx.getImageData(t,e,a,i),u=l.data,c=u.length,_=this._palette,g=3;g<c;g+=4){var f,m=u[g],p=4*m;if(p)f=s>0?s:m<h?m<o?o:m:h,u[g-3]=_[p],u[g-2]=_[p+1],u[g-1]=_[p+2],u[g]=d?_[p+3]:f}l.data=u,this.ctx.putImageData(l,t,e),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(t){var e,a=this.shadowCtx,i=a.getImageData(t.x,t.y,1,1),n=i.data[3],r=this._max,s=this._min;return e=Math.abs(r-s)*(n/255)>>0,e},getDataURL:function(){return this.canvas.toDataURL()}},i}(),i=function(){var e=!1;return"canvas2d"===t["defaultRenderer"]&&(e=a),e}(),n={merge:function(){for(var t={},e=arguments.length,a=0;a<e;a++){var i=arguments[a];for(var n in i)t[n]=i[n]}return t}},r=function(){var a=function(){function t(){this.cStore={}}return t.prototype={on:function(t,e,a){var i=this.cStore;i[t]||(i[t]=[]),i[t].push((function(t){return e.call(a,t)}))},emit:function(t,e){var a=this.cStore;if(a[t])for(var i=a[t].length,n=0;n<i;n++){var r=a[t][n];r(e)}}},t}(),r=function(t){var e=t._renderer,a=t._coordinator,i=t._store;a.on("renderpartial",e.renderPartial,e),a.on("renderall",e.renderAll,e),a.on("extremachange",(function(e){t._config.onExtremaChange&&t._config.onExtremaChange({min:e.min,max:e.max,gradient:t._config["gradient"]||t._config["defaultGradient"]})})),i.setCoordinator(a)};function s(){var s=this._config=n.merge(t,arguments[0]||{});if(this._coordinator=new a,s["plugin"]){var h=s["plugin"];if(!t.plugins[h])throw new Error("Plugin '"+h+"' not found. Maybe it was not registered.");var o=t.plugins[h];this._renderer=new o.renderer(s),this._store=new o.store(s)}else this._renderer=new i(s),this._store=new e(s);r(this)}return s.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(t){return this._config=n.merge(this._config,t),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(t){return this._store.getValueAt?this._store.getValueAt(t):this._renderer.getValueAt?this._renderer.getValueAt(t):null}},s}(),s={create:function(t){return new r(t)},register:function(e,a){t.plugins[e]=a}};return s}))},"7cea":function(t,e,a){},"80f3":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"cesiumContainer"}})},n=[],r=a("acc5"),s=a("5b6c"),h=a.n(s),o=(a("5b17"),null),d={name:"load3DTiles",props:{},data:function(){return{}},computed:{},watch:{},components:{},created:function(){},mounted:function(){this.init()},methods:{init:function(){var t=this,e={infoBox:!1,selectionIndicator:!1,geocoder:!1,homeButton:!1,timeline:!1,navigationHelpButton:!1,fullscreenButton:!1,scene3DOnly:!0,baseLayerPicker:!0,animation:!1,imageryProvider:new r["a"]({url:"http://cache1.arcgisonline.cn/arcgis/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}"})};r["J"].defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzZjFjYmZmNS1hYmNjLTRhZWUtYjlkNi02ODVmOGRjNGQ2N2MiLCJpZCI6Mzg4MzUsImlhdCI6MTYwNjg3Mzk0MX0.R0iO5eELEnpRqQCzoa33UZakcsTYUidaTP9nLa342wY",o=new r["rb"]("cesiumContainer",e),o._cesiumWidget._creditContainer.style.display="none";var a=[-109,10,-80,35],i=t.createHeatMap(t.getData(1e3).max,t.getData(1e3).data);t.createRectangle(o,a,i);var n=[-109,30,-80,41],s=t.createHeatMap(t.getData(3e3).max,t.getData(3e3).data);t.createRectangle(o,n,s);var h=[-109,41,-80,50],d=t.createHeatMap(t.getData(5e3).max,t.getData(5e3).data);t.createRectangle(o,h,d)},createHeatMap:function(t,e){var a=document.createElement("div");a.setAttribute("style","width:1000px;height:1000px;margin: 0px;display: none;"),document.body.appendChild(a);var i=h.a.create({container:a,radius:20,maxOpacity:.5,minOpacity:0,blur:.75,gradient:{.9:"red",.8:"orange",.7:"yellow",.5:"blue",.3:"green"}});return i.setData({max:t,data:e}),i},createRectangle:function(t,e,a){t.entities.add({name:"Rotating rectangle with rotating texture coordinate",show:!0,rectangle:{coordinates:r["ab"].fromDegrees(e[0],e[1],e[2],e[3]),material:a._renderer.canvas}})},getData:function(t){var e=[],a=0,i=1e3,n=1e3;while(t--){var r=Math.floor(1e3*Math.random());a=Math.max(a,r);var s={x:Math.floor(Math.random()*i),y:Math.floor(Math.random()*n),value:r};e.push(s)}return{max:a,data:e}}}},l=d,u=(a("3f80"),a("c701")),c=Object(u["a"])(l,i,n,!1,null,"aef2fefe",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-035557be.de5d3a4d.js.map