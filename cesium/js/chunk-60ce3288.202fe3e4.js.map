{"version":3,"sources":["webpack:///./src/views/particle/snow.vue?a022","webpack:///src/views/particle/snow.vue","webpack:///./src/views/particle/snow.vue?42fa","webpack:///./src/views/particle/snow.vue","webpack:///./src/views/particle/snow.vue?0319"],"names":["minimumSnowImageSize","maximumSnowImageSize","snowSystem","snowGravityScratch","scene","render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","viewer","snowParticleSize","snowRadius","name","props","data","count","modelsData","mounted","init","methods","Cesium","shouldAnimate","terrainProvider","_cesiumWidget","_creditContainer","style","display","camera","setView","destination","orientation","heading","pitch","addParticleSystem","snowUpdate","particle","dt","velocity","distance","endColor","alpha","modelMatrix","minimumSpeed","maximumSpeed","lifetime","emitter","startScale","endScale","image","emissionRate","startColor","minimumImageSize","maximumImageSize","updateCallback","primitives","add","skyAtmosphere","hueShift","saturationShift","brightnessShift","fog","density","minimumBrightness","component"],"mappings":"yHAAA,ICWIA,EACAC,EACAC,EACAC,EACAC,EDfAC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,uBAClHC,EAAkB,G,YCOlBC,G,UAAS,MACTC,EAAmB,GACnBC,EAAa,IAMjB,GACEC,KAAM,QACNC,MAAO,GACPC,KAHF,WAII,MAAO,CACLC,MAAO,EACPC,WAAY,CAClB,mDACA,sDACA,wDACA,0DACA,4DACA,iDACA,gEAIEC,QAjBF,WAkBIf,KAAKgB,QAEPC,QAAS,CACPD,KADJ,WAEMT,EAAS,IAAIW,EAAnB,0BACQC,eAAe,EACfC,gBAAiBF,EAAzB,UAEMX,EAAOc,cAAcC,iBAAiBC,MAAMC,QAAU,OACtDjB,EAAOV,MAAM4B,OAAOC,QAAQ,CAC1BC,YAAa,IAAIT,EAAzB,KACA,iBACA,kBACA,oBAEQU,YAAa,CACXC,QAAS,kBACTC,OAAQ,sBAGZ9B,KAAK+B,qBAEPA,kBApBJ,WAkDM,SAASC,EAAWC,EAAUC,GAG5BtC,EAAqBsB,EAA7B,eACA,WACA,GAEQA,EAAR,sBACA,EACA,+BACA,GAEQe,EAASE,SAAWjB,EAA5B,SACA,WACA,EACA,YAIQ,IAAIkB,EAAWlB,EAAvB,cACA,kBACA,YAGUe,EAASI,SAASC,MADhBF,EAAW3B,EACa,EAGpC,0BAxDMZ,EAAQU,EAAOV,MACfJ,EAAuB,IAAIyB,EAAjC,KACA,EACA,GAEMxB,EAAuB,IAAIwB,EAAjC,KACA,IACA,KAEMtB,EAAqB,IAAIsB,EAA/B,KACMvB,EAAa,IAAIuB,EAAvB,MACQqB,YAAa,IAAIrB,EAAzB,qBACA,yBAEQsB,cAAe,EACfC,aAAc,EACdC,SAAU,GACVC,QAAS,IAAIzB,EAArB,SACQ0B,WAAY,GACZC,SAAU,EACVC,MAAO,oCACPC,aAAc,IACdC,WAAY9B,EAApB,wBACQmB,SAAUnB,EAAlB,wBACQ+B,iBAAkBxD,EAClByD,iBAAkBxD,EAClByD,eAAgBnB,IAiClBzB,EAAOV,MAAMuD,WAAWC,IAAI1D,GAI5BY,EAAOV,MAAMyD,cAAcC,UAAY,IACvChD,EAAOV,MAAMyD,cAAcE,gBAAkB,IAC7CjD,EAAOV,MAAMyD,cAAcG,iBAAmB,GAE9ClD,EAAOV,MAAM6D,IAAIC,QAAU,MAC3BpD,EAAOV,MAAM6D,IAAIE,kBAAoB,OC7HsZ,I,wBCQ7bC,EAAY,eACd,EACA/D,EACAQ,GACA,EACA,KACA,WACA,MAIa,aAAAuD,E,2CCnBf,W","file":"js/chunk-60ce3288.202fe3e4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cesiumContainer1\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"cesiumContainer1\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as Cesium from \"cesium/Cesium\";\r\nimport widget from \"cesium/Widgets/widgets.css\";\r\nvar viewer = null;\r\nvar snowParticleSize = 12.0;\r\nvar snowRadius = 100000.0;\r\nvar minimumSnowImageSize;\r\nvar maximumSnowImageSize;\r\nvar snowSystem;\r\nvar snowGravityScratch;\r\nvar scene;\r\nexport default {\r\n  name: \"model\",\r\n  props: {},\r\n  data() {\r\n    return {\r\n      count: 0,\r\n      modelsData: [\r\n        [\"SampleData/models/CesiumAir/Cesium_Air.glb\", 5000.0],\r\n        [\"SampleData/models/CesiumDrone/CesiumDrone.glb\", 150.0],\r\n        [\"SampleData/models/GroundVehicle/GroundVehicle.glb\", 0],\r\n        [\"SampleData/models/CesiumBalloon/CesiumBalloon.glb\", 1000.0],\r\n        [\"SampleData/models/CesiumMilkTruck/CesiumMilkTruck.glb\", 0],\r\n        [\"SampleData/models/CesiumMan/Cesium_Man.glb\", 0],\r\n        [\"SampleData/models/DracoCompressed/CesiumMilkTruck.gltf\", 0],\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      viewer = new Cesium.Viewer(\"cesiumContainer1\", {\r\n        shouldAnimate: true,\r\n        terrainProvider: Cesium.createWorldTerrain(),\r\n      });\r\n      viewer._cesiumWidget._creditContainer.style.display = \"none\"; // 隐藏版权\r\n      viewer.scene.camera.setView({\r\n        destination: new Cesium.Cartesian3(\r\n          277096.634865404,\r\n          5647834.481964232,\r\n          2985563.7039122293\r\n        ),\r\n        orientation: {\r\n          heading: 4.731089976107251,\r\n          pitch: -0.32003481981370063,\r\n        },\r\n      });\r\n      this.addParticleSystem();\r\n    },\r\n    addParticleSystem() {\r\n      scene = viewer.scene;\r\n      minimumSnowImageSize = new Cesium.Cartesian2(\r\n        snowParticleSize,\r\n        snowParticleSize\r\n      );\r\n      maximumSnowImageSize = new Cesium.Cartesian2(\r\n        snowParticleSize * 2.0,\r\n        snowParticleSize * 2.0\r\n      );\r\n      snowGravityScratch = new Cesium.Cartesian3();\r\n      snowSystem = new Cesium.ParticleSystem({\r\n        modelMatrix: new Cesium.Matrix4.fromTranslation(\r\n          viewer.scene.camera.position\r\n        ),\r\n        minimumSpeed: -1.0,\r\n        maximumSpeed: 0.0,\r\n        lifetime: 15.0,\r\n        emitter: new Cesium.SphereEmitter(snowRadius),\r\n        startScale: 0.5,\r\n        endScale: 1.0,\r\n        image: \"SampleData/snowflake_particle.png\",\r\n        emissionRate: 7000.0,\r\n        startColor: Cesium.Color.WHITE.withAlpha(0.0),\r\n        endColor: Cesium.Color.WHITE.withAlpha(1.0),\r\n        minimumImageSize: minimumSnowImageSize,\r\n        maximumImageSize: maximumSnowImageSize,\r\n        updateCallback: snowUpdate,\r\n      });\r\n\r\n      function snowUpdate(particle, dt) {\r\n        /* 使粒子像受重力影响一样的落下 */\r\n\r\n        snowGravityScratch = Cesium.Cartesian3.normalize(\r\n          particle.position,\r\n          snowGravityScratch\r\n        );\r\n        Cesium.Cartesian3.multiplyByScalar(\r\n          snowGravityScratch,\r\n          Cesium.Math.randomBetween(-30.0, -300.0),\r\n          snowGravityScratch\r\n        );\r\n        particle.velocity = Cesium.Cartesian3.add(\r\n          particle.velocity,\r\n          snowGravityScratch,\r\n          particle.velocity\r\n        );\r\n        \r\n        /*  检测粒子距离相机的距离，距离越远，粒子越模糊（透明度越大），就像一种随距离加重的雾效果  */\r\n        var distance = Cesium.Cartesian3.distance(\r\n          scene.camera.position,\r\n          particle.position\r\n        );\r\n        if (distance > snowRadius) {\r\n          particle.endColor.alpha = 0.0;\r\n        } else {\r\n          particle.endColor.alpha =\r\n            snowSystem.endColor.alpha / (distance / snowRadius + 0.1);\r\n        }\r\n      }\r\n      viewer.scene.primitives.add(snowSystem);\r\n\r\n      //确保整个环境和场景匹配，我们修改大气和雾效果和下雨天匹配。下面代码修改为深蓝色天空，还有一点薄雾。\r\n\r\n      viewer.scene.skyAtmosphere.hueShift = -0.97;\r\n      viewer.scene.skyAtmosphere.saturationShift = 0.25;\r\n      viewer.scene.skyAtmosphere.brightnessShift = -0.4;\r\n\r\n      viewer.scene.fog.density = 0.00025;\r\n      viewer.scene.fog.minimumBrightness = 0.01;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#cesiumContainer1 {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100vh;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./snow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./snow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./snow.vue?vue&type=template&id=28f804d5&scoped=true&\"\nimport script from \"./snow.vue?vue&type=script&lang=js&\"\nexport * from \"./snow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./snow.vue?vue&type=style&index=0&id=28f804d5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28f804d5\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./snow.vue?vue&type=style&index=0&id=28f804d5&scoped=true&lang=css&\""],"sourceRoot":""}