(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07c2750d"],{"162e":function(e,n,t){},"3aab":function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}var o=t("acc5"),s=t("4d28"),c=t.n(s);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=function(){function e(n){i(this,e),l(this,"dimensions",["lng","lat"]),l(this,"radians",o["P"].toRadians(80)),this._GLMap=n,this._mapOffset=[0,0],this.dimensions=["lng","lat"]}return a(e,[{key:"setMapOffset",value:function(e){this._mapOffset=e}},{key:"getMap",value:function(){return this._GLMap}},{key:"fixLat",value:function(e){return e>=90?89.99999999999999:e<=-90?-89.99999999999999:e}},{key:"dataToPoint",value:function(e){var n=[99999,99999];e[1]=this.fixLat(e[1]);var t=o["e"].fromDegrees(e[0],e[1]);if(!t)return n;var i=this._GLMap.cartesianToCanvasCoordinates(t);return i?!(this._GLMap.mode===o["db"].SCENE3D&&o["e"].angleBetween(this._GLMap.camera.position,t)>this.radians)&&[i.x-this._mapOffset[0],i.y-this._mapOffset[1]]:n}},{key:"pointToData",value:function(e){this._mapOffset;var n=this._bmap.project([e[0]+e[0],e[1]+e[1]]);return[n.lng,n.lat]}},{key:"getViewRect",value:function(){var e=this._api;return new c.a.graphic.BoundingRect(0,0,e.getWidth(),e.getHeight())}},{key:"getRoamTransform",value:function(){return c.a.matrix.create()}},{key:"create",value:function(n,t){var i;this._api=t,n.eachComponent("GLMap",(function(n){var r=t.getZr().painter;if(r){var a=c.a.glMap;i=new e(a,t),i.setMapOffset(n.__mapOffset||[0,0]),n.coordinateSystem=i}})),n.eachSeries((function(e){"GLMap"===e.get("coordinateSystem")&&(e.coordinateSystem=i)}))}}]),e}(),v=u;console.log(c.a);var d=function(){function e(n,t){i(this,e),this._viewer=n,this._isRegistered=!1,this._chartLayer=this._createLayerContainer(),this.option=t,this._chartLayer.setOption(t)}return a(e,[{key:"_createLayerContainer",value:function(){var e=this._viewer.scene,n=document.createElement("div");return n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.right="0px",n.style.bottom="0px",n.style.width=e.canvas.width+"px",n.style.height=e.canvas.height+"px",n.style.pointerEvents="none",this._viewer.container.appendChild(n),this._echartsContainer=n,c.a.glMap=e,this._register(),c.a.init(n)}},{key:"_register",value:function(){this._isRegistered||(c.a.registerCoordinateSystem("GLMap",new v(c.a.glMap)),c.a.registerAction({type:"GLMapRoam",event:"GLMapRoam",update:"updateLayout"},(function(e,n){})),c.a.extendComponentModel({type:"GLMap",getBMap:function(){return this.__GLMap},defaultOption:{roam:!1}}),c.a.extendComponentView({type:"GLMap",init:function(e,n){this.api=n,c.a.glMap.postRender.addEventListener(this.moveHandler,this)},moveHandler:function(e,n){this.api.dispatchAction({type:"GLMapRoam"})},render:function(e,n,t){},dispose:function(){c.a.glMap.postRender.removeEventListener(this.moveHandler,this)}}),this._isRegistered=!0)}},{key:"dispose",value:function(){this._echartsContainer&&(this._viewer.container.removeChild(this._echartsContainer),this._echartsContainer=null),this._chartLayer&&(this._chartLayer.dispose(),this._chartLayer=null),this._isRegistered=!1}},{key:"destroy",value:function(){this.dispose()}},{key:"updateEchartsLayer",value:function(e){this._chartLayer&&this._chartLayer.setOption(e)}},{key:"getMap",value:function(){return this._viewer}},{key:"getEchartsLayer",value:function(){return this._chartLayer}},{key:"show",value:function(){this._echartsContainer&&(this._echartsContainer.style.visibility="visible")}},{key:"hide",value:function(){this._echartsContainer&&(this._echartsContainer.style.visibility="hidden")}}]),e}();o["EchartsLayer"]=d},"7e04":function(e,n,t){"use strict";t.r(n);var i,r=function(){var e=this,n=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"cesiumContainer1"}},[t("div",{attrs:{id:"cesiumContainer"}}),t("div",{attrs:{id:"ThreeContainer"}})])}],o=(t("d7d9"),t("3610"),t("acc5")),s=t("3bc2"),c=(t("5b17"),t("3aab"),[115.23,39.55]),l=[116.23,41.55],u=[],v={renderer:null,camera:null,scene:null},d={viewer:null},p={props:{},data:function(){return{}},mounted:function(){var e=document.createElement("script");e.type="x-shader/x-vertex",e.id="vertex-shader",e.src="//g.alicdn.com/sd/smartCaptcha/0.0.1/index.js",document.body.appendChild(e),this.main()},methods:{main:function(){o["J"].defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmMjY1MzY3MC1mYWIwLTQ2ZDItYTdlZi0yNWEyZjU2MjAzOTQiLCJpZCI6Mzg4MzUsImlhdCI6MTYwNjg3MzkxNX0.gGDAumUmOxcrCTMRfrKZJjfZpYiLxGwJwSLlkDYt9BY",document.getElementById("cesiumContainer"),i=document.getElementById("ThreeContainer"),this.initCesium(),this.initThree(),this.init3DObject(),this.loop()},initCesium:function(){new o["a"]({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),new o["nb"]({url:"http://mt1.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&{x}&y={y}&z={z}&s=Gali"});d.viewer=new o["rb"]("cesiumContainer",{useDefaultRenderLoop:!1,selectionIndicator:!1,homeButton:!1,sceneModePicker:!1,navigationHelpButton:!1,animate:!1,timeline:!1,fullscreenButton:!1,navigationInstructionsInitiallyVisible:!1,allowTextureFilterAnisotropic:!1,contextOptions:{webgl:{alpha:!1,antialias:!0,preserveDrawingBuffer:!0,failIfMajorPerformanceCaveat:!1,depth:!0,stencil:!1,anialias:!1}},targetFrameRate:60,resolutionScale:.1,orderIndependentTranslucency:!0,baseLayerPicker:!0,geocoder:!1,automaticallyTrackDataSourceClocks:!1,dataSources:null,clock:null,terrainShadows:o["gb"].DISABLED});var e=o["e"].fromDegrees((c[0]+l[0])/2,(c[1]+l[1])/2-1,2e5);e,d.viewer.camera.flyTo({destination:e,orientation:{heading:o["P"].toRadians(0),pitch:o["P"].toRadians(-60),roll:o["P"].toRadians(0)},duration:3})},initThree:function(){var e=45,n=window.innerWidth,t=window.innerHeight,r=n/t,a=1,o=1e7;v.scene=new s["nb"],v.camera=new s["eb"](e,r,a,o),v.renderer=new s["Hb"]({alpha:!0}),i.appendChild(v.renderer.domElement)},init3DObject:function(){for(var e={name:"Polygon",polygon:{hierarchy:o["e"].fromDegreesArray([c[0],c[1],l[0],c[1],l[0],l[1],c[0],l[1]]),material:o["q"].RED.withAlpha(.2)}},n=(d.viewer.entities.add(e),this.getMaterial()),t=10,i=[],r=0;r<t;r++)i.push(new s["Eb"](Math.sin(.2*r)*t+5,2*(r-5)));var a=new s["D"](i),p=new s["S"](a,n);p.scale.set(1500,1500,1500),p.position.z+=15,p.rotation.x=Math.PI/2;var h=new s["w"];h.add(p),v.scene.add(h);var f=new y;f.threeMesh=h,f.minWGS84=c,f.maxWGS84=l,u.push(f),a=new s["q"];var m=new s["S"](a,this.getMaterial());m.scale.set(5e3,5e3,5e3),m.position.z+=15e3,m.rotation.x=Math.PI/2;var g=new s["w"];function y(){this.threeMesh=null,this.minWGS84=null,this.maxWGS84=null}g.add(m),v.scene.add(g),f=new y,f.threeMesh=g,f.minWGS84=c,f.maxWGS84=l,u.push(f)},getMaterial:function(){var e={uniforms:{time:{type:"f",value:0},color:{type:"c",value:new s["n"]("blue")},opacity:{type:"f",value:1}},vertexShaderSource:"\n  precision lowp float;\n  precision lowp int;\n  ".concat(s["ob"].fog_pars_vertex,"\n  varying vec2 vUv;\n  void main() {\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    ").concat(s["ob"].fog_vertex,"\n  }\n"),fragmentShaderSource:"\n              #if __VERSION__ == 100\n               #extension GL_OES_standard_derivatives : enable\n              #endif\n              uniform vec3 color;\n              uniform float opacity;\n              uniform float time;\n              varying vec2 vUv;\n              #define pi 3.1415926535\n              #define PI2RAD 0.01745329252\n              #define TWO_PI (2. * PI)\n              float rands(float p){\n                  return fract(sin(p) * 10000.0);\n              }\n              float noise(vec2 p){\n                  float t = time / 20000.0;\n                  if(t > 1.0) t -= floor(t);\n                  return rands(p.x * 14. + p.y * sin(t) * 0.5);\n              }\n              vec2 sw(vec2 p){\n                  return vec2(floor(p.x), floor(p.y));\n              }\n              vec2 se(vec2 p){\n                  return vec2(ceil(p.x), floor(p.y));\n              }\n              vec2 nw(vec2 p){\n                  return vec2(floor(p.x), ceil(p.y));\n              }\n              vec2 ne(vec2 p){\n                  return vec2(ceil(p.x), ceil(p.y));\n              }\n              float smoothNoise(vec2 p){\n                  vec2 inter = smoothstep(0.0, 1.0, fract(p));\n                  float s = mix(noise(sw(p)), noise(se(p)), inter.x);\n                  float n = mix(noise(nw(p)), noise(ne(p)), inter.x);\n                  return mix(s, n, inter.y);\n              }\n              float fbm(vec2 p){\n                  float z = 2.0;\n                  float rz = 0.0;\n                  vec2 bp = p;\n                  for(float i = 1.0; i < 6.0; i++){\n                  rz += abs((smoothNoise(p) - 0.5)* 2.0) / z;\n                  z *= 2.0;\n                  p *= 2.0;\n                  }\n                  return rz;\n              }\n              void main() {\n                  vec2 uv = vUv;\n                  vec2 uv2 = vUv;\n                  if (uv.y < 0.5) {\n                  discard;\n                  }\n                  uv *= 4.;\n                  float rz = fbm(uv);\n                  uv /= exp(mod(time * 2.0, pi));\n                  rz *= pow(15., 0.9);\n                  gl_FragColor = mix(vec4(color, opacity) / rz, vec4(color, 0.1), 0.2);\n                  if (uv2.x < 0.05) {\n                  gl_FragColor = mix(vec4(color, 0.1), gl_FragColor, uv2.x / 0.05);\n                  }\n                  if (uv2.x > 0.95){\n                  gl_FragColor = mix(gl_FragColor, vec4(color, 0.1), (uv2.x - 0.95) / 0.05);\n                  }\n              }"},n=new s["pb"]({uniforms:e.uniforms,defaultAttributeValues:{},vertexShader:e.vertexShaderSource,fragmentShader:e.fragmentShaderSource,blending:s["a"],depthWrite:!1,depthTest:!0,side:s["r"],transparent:!0});return n},createMaterial:function(e,n){var t="uniform float time;\nvarying vec2 vUv;\n\n\nvoid main()\n{\nvec3 posChanged = position;\nposChanged.x = posChanged.x*(abs(sin(time*1.0)));\nposChanged.y = posChanged.y*(abs(cos(time*1.0)));\nposChanged.z = posChanged.z*(abs(sin(time*1.0)));\n//gl_Position = projectionMatrix * modelViewMatrix * vec4(position*(abs(sin(time)/2.0)+0.5),1.0);\ngl_Position = projectionMatrix * modelViewMatrix * vec4(posChanged,1.0);\n}",i="precision highp float;\nuniform float time;\nuniform float alpha;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nvoid main2(void)\n{\nvec2 position = vUv;\nfloat red = 1.0;\nfloat green = 0.25 + sin(time) * 0.25;\nfloat blue = 0.0;\nvec3 rgb = vec3(red, green, blue);\nvec4 color = vec4(rgb, alpha);\ngl_FragColor = color;\n}\n\n#define PI 3.14159\n#define TWO_PI (PI*2.0)\n#define N 68.5\n\nvoid main(void)\n{\nvec2 center = (gl_FragCoord.xy);\ncenter.x=-10.12*sin(time/200.0);\ncenter.y=-10.12*cos(time/200.0);\n\nvec2 v = (gl_FragCoord.xy - resolution/20.0) / min(resolution.y,resolution.x) * 15.0;\nv.x=v.x-10.0;\nv.y=v.y-200.0;\nfloat col = 0.0;\n\nfor(float i = 0.0; i < N; i++)\n{\nfloat a = i * (TWO_PI/N) * 61.95;\ncol += cos(TWO_PI*(v.y * cos(a) + v.x * sin(a) + sin(time*0.004)*100.0 ));\n}\n\ncol /= 5.0;\n\ngl_FragColor = vec4(col*1.0, -col*1.0,-col*4.0, 1.0);\n}",r={},a={time:{type:"f",value:.2},scale:{type:"f",value:.2},alpha:{type:"f",value:.6},resolution:{type:"v2",value:new s["Eb"]}};a.resolution.value.x=window.innerWidth,a.resolution.value.y=window.innerHeight;var o=new s["pb"]({uniforms:a,attributes:r,vertexShader:t,fragmentShader:i,transparent:!0});return o},loop:function(){requestAnimationFrame(this.loop),this.renderCesium(),this.renderThreeObj()},renderCesium:function(){d.viewer.render()},renderThreeObj:function(){v.camera.fov=o["P"].toDegrees(d.viewer.camera.frustum.fovy);var e=function(e){return new s["Fb"](e.x,e.y,e.z)};u.forEach((function(n,t){c=u[t].minWGS84,l=u[t].maxWGS84;var i=o["e"].fromDegrees((c[0]+l[0])/2,(c[1]+l[1])/2),r=o["e"].fromDegrees((c[0]+l[0])/2,(c[1]+l[1])/2,1),a=e(o["e"].fromDegrees(c[0],c[1])),v=e(o["e"].fromDegrees(c[0],l[1])),d=(new s["Fb"]).subVectors(a,v).normalize();u[t].threeMesh.position.copy(i),u[t].threeMesh.lookAt(r.x,r.y,r.z),u[t].threeMesh.up.copy(d),u[t].threeMesh.children[0].material.uniforms.time.value+=.01,console.log()})),v.camera.matrixAutoUpdate=!1;var n=d.viewer.camera.viewMatrix,t=d.viewer.camera.inverseViewMatrix;v.camera.lookAt(0,0,0),v.camera.matrixWorld.set(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]),v.camera.matrixWorldInverse.set(n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],n[2],n[6],n[10],n[14],n[3],n[7],n[11],n[15]);var r=i.clientWidth,a=i.clientHeight,p=r/a;v.camera.aspect=p,v.camera.updateProjectionMatrix(),v.renderer.setSize(r,a),v.renderer.clear(),v.renderer.render(v.scene,v.camera)}}},h=p,f=(t("d795"),t("c701")),m=Object(f["a"])(h,r,a,!1,null,"3b0b9552",null);n["default"]=m.exports},bab6:function(e,n,t){"use strict";var i=t("bab3"),r=t("30cf"),a=t("ef69");e.exports=function(e,n,t){var o=i(n);o in e?r.f(e,o,a(0,t)):e[o]=t}},d795:function(e,n,t){"use strict";t("162e")},d7d9:function(e,n,t){"use strict";var i=t("485e"),r=t("aad0"),a=t("880d"),o=t("3b29"),s=t("3c6b"),c=t("4a35"),l=t("bab6"),u=t("0c3a"),v=t("243e"),d=t("6d05"),p=t("7047"),h=d("isConcatSpreadable"),f=9007199254740991,m="Maximum allowed index exceeded",g=p>=51||!r((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),y=v("concat"),w=function(e){if(!o(e))return!1;var n=e[h];return void 0!==n?!!n:a(e)},x=!g||!y;i({target:"Array",proto:!0,forced:x},{concat:function(e){var n,t,i,r,a,o=s(this),v=u(o,0),d=0;for(n=-1,i=arguments.length;n<i;n++)if(a=-1===n?o:arguments[n],w(a)){if(r=c(a.length),d+r>f)throw TypeError(m);for(t=0;t<r;t++,d++)t in a&&l(v,d,a[t])}else{if(d>=f)throw TypeError(m);l(v,d++,a)}return v.length=d,v}})}}]);
//# sourceMappingURL=chunk-07c2750d.b105442b.js.map