(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e6002f5"],{"06b2":function(e,t,n){"use strict";var i=n("b804"),o=n("21e0");e.exports="".repeat||function(e){var t=String(o(this)),n="",r=i(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},3022:function(e,t,n){var i=n("c7d8");e.exports=function(e){if("number"!=typeof e&&"Number"!=i(e))throw TypeError("Incorrect invocation");return+e}},"899c5":function(e,t,n){"use strict";n.r(t);var i,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"cesiumContainer"}},[n("el-button",{staticStyle:{position:"absolute",right:"8vh",top:"2vh","z-index":"100"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.clear(t)}}},[e._v("清除")]),n("div",{attrs:{id:"cesiumContainer1"}})],1)},r=[],a=n("acc5"),c=(n("5b17"),n("d37d")),l=null,s=null,u={props:{},data:function(){return{}},mounted:function(){this.init()},methods:{init:function(){l=new a["rb"]("cesiumContainer1",{infoBox:!1,selectionIndicator:!1,geocoder:!1,homeButton:!1,timeline:!1,navigationHelpButton:!1,fullscreenButton:!1,scene3DOnly:!0,baseLayerPicker:!0,animation:!1,imageryProvider:new a["a"]({url:"http://cache1.arcgisonline.cn/arcgis/rest/services/ChinaOnlineStreetPurplishBlue/MapServer"})}),l._cesiumWidget._creditContainer.style.display="none",l.scene.camera.flyTo({destination:a["e"].fromDegrees(121.506377,31.245105,750),orientation:{heading:a["P"].toRadians(20),pitch:a["P"].toRadians(-20)}}),i=c["a"].measureAreaSpace(l,s)},clear:function(){i.clear()}}},h=u,p=(n("a38a"),n("c701")),f=Object(p["a"])(h,o,r,!1,null,"5e788df0",null);t["default"]=f.exports},"96dd":function(e,t,n){},a38a:function(e,t,n){"use strict";n("96dd")},d37d:function(e,t,n){"use strict";n("e3c0");var i=n("acc5");n("5b17");t["a"]={measureLineSpace:function(e,t){e.cesiumWidget.screenSpaceEventHandler.removeInputAction(i["fb"].LEFT_DOUBLE_CLICK),t=new i["eb"](e.scene._imageryLayerCollection);var n=[],o=null,r=0,a=null;function c(){n=[],o=null,r=0,a=null,e.entities.removeAll()}t.setInputAction((function(t){var c=e.camera.getPickRay(t.endPosition);a=e.scene.globe.pick(c,e.scene),n.length>=2&&(i["ub"](o)?(n.pop(),n.push(a)):o=new l(n),r=s(n))}),i["fb"].MOUSE_MOVE),t.setInputAction((function(t){var o=e.camera.getPickRay(t.position);a=e.scene.globe.pick(o,e.scene),0==n.length&&n.push(a.clone()),n.push(a);var c=r+"米";e.entities.add({name:"空间直线距离",position:n[n.length-1],point:{pixelSize:5,color:i["q"].RED,outlineColor:i["q"].WHITE,outlineWidth:2},label:{text:c,font:"18px sans-serif",fillColor:i["q"].GOLD,style:i["N"].FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:i["pb"].BOTTOM,pixelOffset:new i["d"](20,-20)}})}),i["fb"].LEFT_CLICK),t.setInputAction((function(e){n.pop(),n=[],o=null,r=0,a=null}),i["fb"].RIGHT_CLICK);var l=function(){function t(e){this.options={name:"直线",polyline:{show:!0,positions:[],material:i["q"].CHARTREUSE,width:5,clampToGround:!0}},this.positions=e,this._init()}return t.prototype._init=function(){var t=this,n=function(){return t.positions};this.options.polyline.positions=new i["c"](n,!1),e.entities.add(this.options)},t}();function s(e){for(var t=0,n=0;n<e.length-1;n++){var o=i["f"].fromCartesian(e[n]),r=i["f"].fromCartesian(e[n+1]),a=new i["y"];a.setEndPoints(o,r);var c=a.surfaceDistance;c=Math.sqrt(Math.pow(c,2)+Math.pow(r.height-o.height,2)),t+=c}return t.toFixed(2)}return{clear:c}},measureAreaSpace:function(e,t){e.cesiumWidget.screenSpaceEventHandler.removeInputAction(i["fb"].LEFT_DOUBLE_CLICK),t=new i["eb"](e.scene._imageryLayerCollection);var n=[],o=[],r=null,a=null;function c(){n=[],o=[],r=null,a=null,e.entities.removeAll()}t.setInputAction((function(t){var o=e.camera.getPickRay(t.endPosition);a=e.scene.globe.pick(o,e.scene),n.length>=2&&(i["ub"](r)?(n.pop(),n.push(a)):(console.log(n),r=new l(n)))}),i["fb"].MOUSE_MOVE),t.setInputAction((function(t){a=e.scene.pickPosition(t.position),0==n.length&&n.push(a.clone()),n.push(a),console.log(a);var r=i["f"].fromCartesian(n[n.length-1]),c=i["P"].toDegrees(r.longitude),l=i["P"].toDegrees(r.latitude),s=r.height;o.push({lng:c,lat:l,hei:s}),console.log(o),e.entities.add({name:"多边形面积",position:n[n.length-1],point:{pixelSize:5,color:i["q"].RED,outlineColor:i["q"].WHITE,outlineWidth:2,heightReference:i["F"].CLAMP_TO_GROUND}})}),i["fb"].LEFT_CLICK),t.setInputAction((function(t){n.pop();var c=s(o);e.entities.add({name:"多边形面积",position:n[n.length-1],label:{text:c,font:"18px sans-serif",fillColor:i["q"].GOLD,style:i["N"].FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:i["pb"].BOTTOM,pixelOffset:new i["d"](20,-40),heightReference:i["F"].CLAMP_TO_GROUND}}),n=[],o=[],r=null,a=null}),i["fb"].RIGHT_CLICK);var l=function(){function t(e){this.options={name:"多边形",polygon:{hierarchy:[],material:i["q"].GREEN.withAlpha(.5)}},this.hierarchy=new i["U"](e),this._init()}return t.prototype._init=function(){var t=this,n=function(){return t.hierarchy};this.options.polygon.hierarchy=new i["c"](n,!1),e.entities.add(this.options)},t}();function s(e){var t=6371009,n=e.length;if(n<3)return 0;var i=0,o=e[n-1],r=Math.tan((Math.PI/2-o.lat/180*Math.PI)/2),a=o.lng/180*Math.PI;for(var c in e){var l=Math.tan((Math.PI/2-e[c].lat/180*Math.PI)/2),s=e[c].lng/180*Math.PI;i+=u(l,s,r,a),r=l,a=s}return Math.abs(i*(t*t))>1e5?"".concat((Math.abs(i*(t*t))/1e6).toFixed(4),"平方公里"):"".concat(Math.abs(i*(t*t)).toFixed(4),"平方米")}function u(e,t,n,i){var o=t-i,r=e*n;return 2*Math.atan2(r*Math.sin(o),1+r*Math.cos(o))}return{clear:c}}}},e3c0:function(e,t,n){"use strict";var i=n("485e"),o=n("b804"),r=n("3022"),a=n("06b2"),c=n("aad0"),l=1..toFixed,s=Math.floor,u=function(e,t,n){return 0===t?n:t%2===1?u(e,t-1,n*e):u(e*e,t/2,n)},h=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},p=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){l.call({})}));i({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,n,i,c,l=r(this),p=o(e),f=[0,0,0,0,0,0],d="",g="0",v=function(e,t){var n=-1,i=t;while(++n<6)i+=e*f[n],f[n]=i%1e7,i=s(i/1e7)},m=function(e){var t=6,n=0;while(--t>=0)n+=f[t],f[t]=s(n/e),n=n%e*1e7},b=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==f[e]){var n=String(f[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(d="-",l=-l),l>1e-21)if(t=h(l*u(2,69,1))-69,n=t<0?l*u(2,-t,1):l/u(2,t,1),n*=4503599627370496,t=52-t,t>0){v(0,n),i=p;while(i>=7)v(1e7,0),i-=7;v(u(10,i,1),0),i=t-1;while(i>=23)m(1<<23),i-=23;m(1<<i),v(1,1),m(2),g=b()}else v(0,n),v(1<<-t,0),g=b()+a.call("0",p);return p>0?(c=g.length,g=d+(c<=p?"0."+a.call("0",p-c)+g:g.slice(0,c-p)+"."+g.slice(c-p))):g=d+g,g}})}}]);
//# sourceMappingURL=chunk-0e6002f5.234f67f0.js.map