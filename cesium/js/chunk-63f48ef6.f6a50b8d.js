(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63f48ef6"],{"06b2":function(e,t,n){"use strict";var r=n("b804"),a=n("21e0");e.exports="".repeat||function(e){var t=String(a(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},"15c0":function(e,t,n){},"1d10":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"1e54":function(e,t,n){"use strict";var r=n("bc46");function a(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e,t=new a((function(t){e=t}));return{token:t,cancel:e}},e.exports=a},"2b31":function(e,t,n){"use strict";var r=n("c462");e.exports=function(e,t,n,a,i){var o=new Error(e);return r(o,t,n,a,i)}},3269:function(e,t,n){"use strict";var r=n("7cb5");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},"4d70":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"5a56":function(e,t,n){"use strict";var r=n("7cb5"),a=n("dc9c"),i=n("7368"),o=n("f11f");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){s(e),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||o.adapter;return t(e).then((function(t){return s(e),t.data=a(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"5bff":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"5e03":function(e,t,n){"use strict";var r=n("7cb5"),a=n("e8a0"),i=n("7ca9"),o=n("c6da"),s=n("73cb"),c=n("8a65"),u=n("f2b1"),l=n("2b31");e.exports=function(e){return new Promise((function(t,n){var f=e.data,p=e.headers;r.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(h+":"+m)}var v=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,i=e.responseType&&"text"!==e.responseType?d.response:d.responseText,o={data:i,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};a(t,n,o),d=null}},d.onabort=function(){d&&(n(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||u(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;g&&(p[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(p,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(b){if("json"!==e.responseType)throw b}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),f||(f=null),d.send(f)}))}},6266:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,a=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!a){n=t+1;break}}else-1===r&&(a=!1,r=t+1);return-1===r?"":e.slice(n,r)}function a(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var o=i>=0?arguments[i]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,r="/"===o.charAt(0))}return t=n(a(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===i(e,-1);return e=n(a(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(a(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=r(e.split("/")),i=r(n.split("/")),o=Math.min(a.length,i.length),s=o,c=0;c<o;c++)if(a[c]!==i[c]){s=c;break}var u=[];for(c=s;c<a.length;c++)u.push("..");return u=u.concat(i.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,a=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!a){r=i;break}}else a=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,a=!0,i=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(a=!1,r=o+1),46===s?-1===t?t=o:1!==i&&(i=1):-1!==t&&(i=-1);else if(!a){n=o+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("eef6"))},7368:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"73cb":function(e,t,n){"use strict";var r=n("d259"),a=n("1d10");e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},"73ef":function(e,t,n){e.exports=n("77ad")},"77ad":function(e,t,n){"use strict";var r=n("7cb5"),a=n("4d70"),i=n("a78d"),o=n("de7f"),s=n("f11f");function c(e){var t=new i(e),n=a(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=c(s);u.Axios=i,u.create=function(e){return c(o(u.defaults,e))},u.Cancel=n("bc46"),u.CancelToken=n("1e54"),u.isCancel=n("7368"),u.all=function(e){return Promise.all(e)},u.spread=n("5bff"),u.isAxiosError=n("782d"),e.exports=u,e.exports.default=u},"782d":function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},7863:function(e,t,n){var r=n("485e"),a=n("06b2");r({target:"String",proto:!0},{repeat:a})},"7ca9":function(e,t,n){"use strict";var r=n("7cb5");e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,a,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7cb5":function(e,t,n){"use strict";var r=n("4d70"),a=Object.prototype.toString;function i(e){return"[object Array]"===a.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function c(e){return"[object ArrayBuffer]"===a.call(e)}function u(e){return"undefined"!==typeof FormData&&e instanceof FormData}function l(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function f(e){return"string"===typeof e}function p(e){return"number"===typeof e}function d(e){return null!==e&&"object"===typeof e}function h(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function m(e){return"[object Date]"===a.call(e)}function v(e){return"[object File]"===a.call(e)}function g(e){return"[object Blob]"===a.call(e)}function b(e){return"[object Function]"===a.call(e)}function y(e){return d(e)&&b(e.pipe)}function w(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function C(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function E(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function _(){var e={};function t(t,n){h(e[n])&&h(t)?e[n]=_(e[n],t):h(t)?e[n]=_({},t):i(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)E(arguments[n],t);return e}function P(e,t,n){return E(t,(function(t,a){e[a]=n&&"function"===typeof t?r(t,n):t})),e}function O(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:i,isArrayBuffer:c,isBuffer:s,isFormData:u,isArrayBufferView:l,isString:f,isNumber:p,isObject:d,isPlainObject:h,isUndefined:o,isDate:m,isFile:v,isBlob:g,isFunction:b,isStream:y,isURLSearchParams:w,isStandardBrowserEnv:x,forEach:E,merge:_,extend:P,trim:C,stripBOM:O}},"8a65":function(e,t,n){"use strict";var r=n("7cb5"),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(o[t]&&a.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},a78d:function(e,t,n){"use strict";var r=n("7cb5"),a=n("c6da"),i=n("bd59"),o=n("5a56"),s=n("de7f");function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=s(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=c},bab6:function(e,t,n){"use strict";var r=n("bab3"),a=n("30cf"),i=n("ef69");e.exports=function(e,t,n){var o=r(t);o in e?a.f(e,o,i(0,n)):e[o]=n}},bc46:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},bd59:function(e,t,n){"use strict";var r=n("7cb5");function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},c462:function(e,t,n){"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},c6da:function(e,t,n){"use strict";var r=n("7cb5");function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(a(t)+"="+a(e))})))})),i=o.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},d259:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},d7d9:function(e,t,n){"use strict";var r=n("485e"),a=n("aad0"),i=n("880d"),o=n("3b29"),s=n("3c6b"),c=n("4a35"),u=n("bab6"),l=n("0c3a"),f=n("243e"),p=n("6d05"),d=n("7047"),h=p("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=d>=51||!a((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),b=f("concat"),y=function(e){if(!o(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)},w=!g||!b;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,r,a,i,o=s(this),f=l(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?o:arguments[t],y(i)){if(a=c(i.length),p+a>m)throw TypeError(v);for(n=0;n<a;n++,p++)n in i&&u(f,p,i[n])}else{if(p>=m)throw TypeError(v);u(f,p++,i)}return f.length=p,f}})},dc9c:function(e,t,n){"use strict";var r=n("7cb5");e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},de7f:function(e,t,n){"use strict";var r=n("7cb5");e.exports=function(e,t){t=t||{};var n={},a=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=c(void 0,e[a])):n[a]=c(e[a],t[a])}r.forEach(a,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(i,u),r.forEach(o,(function(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=c(void 0,e[a])):n[a]=c(void 0,t[a])})),r.forEach(s,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var l=a.concat(i).concat(o).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(f,u),n}},e02c2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"cesiumContainer1"}},[n("div",{attrs:{id:"cesiumContainer"}}),n("div",{attrs:{id:"ThreeContainer"}})])}],i=(n("d7d9"),n("3610"),n("1564"),n("7863"),n("f644"),n("73ef")),o=n.n(i),s={PI:3.141592653589793,x_pi:52.35987755982988,delta:function(e,t){var n=6378245,r=.006693421622965943,a=this.transformLat(t-105,e-35),i=this.transformLon(t-105,e-35),o=e/180*this.PI,s=Math.sin(o);s=1-r*s*s;var c=Math.sqrt(s);return a=180*a/(n*(1-r)/(s*c)*this.PI),i=180*i/(n/c*Math.cos(o)*this.PI),{lat:a,lon:i}},gcj_encrypt:function(e,t){if(this.outOfChina(e,t))return{lat:e,lon:t};var n=this.delta(e,t);return{lat:e+n.lat,lon:t+n.lon}},gcj_decrypt:function(e,t){if(this.outOfChina(e,t))return{lat:e,lon:t};var n=this.delta(e,t);return{lat:e-n.lat,lon:t-n.lon}},gcj_decrypt_exact:function(e,t){var n,r,a=.01,i=1e-9,o=a,s=a,c=e-o,u=t-s,l=e+o,f=t+s,p=0;while(1){n=(c+l)/2,r=(u+f)/2;var d=this.gcj_encrypt(n,r);if(o=d.lat-e,s=d.lon-t,Math.abs(o)<i&&Math.abs(s)<i)break;if(o>0?l=n:c=n,s>0?f=r:u=r,++p>1e4)break}return{lat:n,lon:r}},bd_encrypt:function(e,t){var n=t,r=e,a=Math.sqrt(n*n+r*r)+2e-5*Math.sin(r*this.x_pi),i=Math.atan2(r,n)+3e-6*Math.cos(n*this.x_pi);return bdLon=a*Math.cos(i)+.0065,bdLat=a*Math.sin(i)+.006,{lat:bdLat,lon:bdLon}},bd_decrypt:function(e,t){var n=t-.0065,r=e-.006,a=Math.sqrt(n*n+r*r)-2e-5*Math.sin(r*this.x_pi),i=Math.atan2(r,n)-3e-6*Math.cos(n*this.x_pi),o=a*Math.cos(i),s=a*Math.sin(i);return{lat:s,lon:o}},mercator_encrypt:function(e,t){var n=20037508.34*t/180,r=Math.log(Math.tan((90+e)*this.PI/360))/(this.PI/180);return r=20037508.34*r/180,{lat:r,lon:n}},mercator_decrypt:function(e,t){var n=t/20037508.34*180,r=e/20037508.34*180;return r=180/this.PI*(2*Math.atan(Math.exp(r*this.PI/180))-this.PI/2),{lat:r,lon:n}},distance:function(e,t,n,r){var a=6371e3,i=Math.cos(e*this.PI/180)*Math.cos(n*this.PI/180)*Math.cos((t-r)*this.PI/180),o=Math.sin(e*this.PI/180)*Math.sin(n*this.PI/180),s=i+o;s>1&&(s=1),s<-1&&(s=-1);var c=Math.acos(s),u=c*a;return u},outOfChina:function(e,t){return t<72.004||t>137.8347||(e<.8293||e>55.8271)},transformLat:function(e,t){var n=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*this.PI)+20*Math.sin(2*e*this.PI))/3,n+=2*(20*Math.sin(t*this.PI)+40*Math.sin(t/3*this.PI))/3,n+=2*(160*Math.sin(t/12*this.PI)+320*Math.sin(t*this.PI/30))/3,n},transformLon:function(e,t){var n=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*this.PI)+20*Math.sin(2*e*this.PI))/3,n+=2*(20*Math.sin(e*this.PI)+40*Math.sin(e/3*this.PI))/3,n+=2*(150*Math.sin(e/12*this.PI)+300*Math.sin(e/30*this.PI))/3,n}},c=s,u=n("3bc2"),l={createMeshesFromInstancedMesh:function(e){for(var t=new u["w"],n=e.count,r=e.geometry,a=e.material,i=0;i<n;i++){var o=new u["S"](r,a);e.getMatrixAt(i,o.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),t.add(o)}return t.copy(e),t.updateMatrixWorld(),t},createMultiMaterialObject:function(e,t){for(var n=new u["w"],r=0,a=t.length;r<a;r++)n.add(new u["S"](e,t[r]));return n},detach:function(e,t,n){console.warn("THREE.SceneUtils: detach() has been deprecated. Use scene.attach( child ) instead."),n.attach(e)},attach:function(e,t,n){console.warn("THREE.SceneUtils: attach() has been deprecated. Use parent.attach( child ) instead."),n.attach(e)}},f=function(e){u["L"].call(this,e),this.propertyNameMapping={}};f.prototype=Object.assign(Object.create(u["L"].prototype),{constructor:f,load:function(e,t,n,r){var a=this,i=new u["t"](this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(n){try{t(a.parse(n))}catch(i){r?r(i):console.error(i),a.manager.itemError(e)}}),n,r)},setPropertyNameMapping:function(e){this.propertyNameMapping=e},parse:function(e){function t(e){var t=/ply([\s\S]*)end_header\r?\n/,n="",r=0,a=t.exec(e);null!==a&&(n=a[1],r=new Blob([a[0]]).size);var i,o,s,c={comments:[],elements:[],headerLength:r,objInfo:""},u=n.split("\n");function l(e,t){var n={type:e[0]};return"list"===n.type?(n.name=e[3],n.countType=e[1],n.itemType=e[2]):n.name=e[1],n.name in t&&(n.name=t[n.name]),n}for(var f=0;f<u.length;f++){var d=u[f];if(d=d.trim(),""!==d)switch(s=d.split(/\s+/),o=s.shift(),d=s.join(" "),o){case"format":c.format=s[0],c.version=s[1];break;case"comment":c.comments.push(d);break;case"element":void 0!==i&&c.elements.push(i),i={},i.name=s[0],i.count=parseInt(s[1]),i.properties=[];break;case"property":i.properties.push(l(s,p.propertyNameMapping));break;case"obj_info":c.objInfo=d;break;default:console.log("unhandled",o,s)}}return void 0!==i&&c.elements.push(i),c}function n(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}}function r(e,t){for(var r=t.split(/\s+/),a={},i=0;i<e.length;i++)if("list"===e[i].type){for(var o=[],s=n(r.shift(),e[i].countType),c=0;c<s;c++)o.push(n(r.shift(),e[i].itemType));a[e[i].name]=o}else a[e[i].name]=n(r.shift(),e[i].type);return a}function a(e,t){var n,a={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},s=/end_header\s([\s\S]*)$/,c="";null!==(n=s.exec(e))&&(c=n[1]);for(var u=c.split("\n"),l=0,f=0,p=0;p<u.length;p++){var d=u[p];if(d=d.trim(),""!==d){f>=t.elements[l].count&&(l++,f=0);var h=r(t.elements[l].properties,d);o(a,t.elements[l].name,h),f++}}return i(a)}function i(e){var t=new u["i"];return e.indices.length>0&&t.setIndex(e.indices),t.setAttribute("position",new u["u"](e.vertices,3)),e.normals.length>0&&t.setAttribute("normal",new u["u"](e.normals,3)),e.uvs.length>0&&t.setAttribute("uv",new u["u"](e.uvs,2)),e.colors.length>0&&t.setAttribute("color",new u["u"](e.colors,3)),e.faceVertexUvs.length>0&&(t=t.toNonIndexed(),t.setAttribute("uv",new u["u"](e.faceVertexUvs,2))),t.computeBoundingSphere(),t}function o(e,t,n){if("vertex"===t)e.vertices.push(n.x,n.y,n.z),"nx"in n&&"ny"in n&&"nz"in n&&e.normals.push(n.nx,n.ny,n.nz),"s"in n&&"t"in n&&e.uvs.push(n.s,n.t),"red"in n&&"green"in n&&"blue"in n&&e.colors.push(n.red/255,n.green/255,n.blue/255);else if("face"===t){var r=n.vertex_indices||n.vertex_index,a=n.texcoord;3===r.length?(e.indices.push(r[0],r[1],r[2]),a&&6===a.length&&(e.faceVertexUvs.push(a[0],a[1]),e.faceVertexUvs.push(a[2],a[3]),e.faceVertexUvs.push(a[4],a[5]))):4===r.length&&(e.indices.push(r[0],r[1],r[3]),e.indices.push(r[1],r[2],r[3]))}}function s(e,t,n,r){switch(n){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,r),2];case"uint16":case"ushort":return[e.getUint16(t,r),2];case"int32":case"int":return[e.getInt32(t,r),4];case"uint32":case"uint":return[e.getUint32(t,r),4];case"float32":case"float":return[e.getFloat32(t,r),4];case"float64":case"double":return[e.getFloat64(t,r),8]}}function c(e,t,n,r){for(var a,i={},o=0,c=0;c<n.length;c++)if("list"===n[c].type){var u=[];a=s(e,t+o,n[c].countType,r);var l=a[0];o+=a[1];for(var f=0;f<l;f++)a=s(e,t+o,n[c].itemType,r),u.push(a[0]),o+=a[1];i[n[c].name]=u}else a=s(e,t+o,n[c].type,r),i[n[c].name]=a[0],o+=a[1];return[i,o]}function l(e,t){for(var n,r={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},a="binary_little_endian"===t.format,s=new DataView(e,t.headerLength),u=0,l=0;l<t.elements.length;l++)for(var f=0;f<t.elements[l].count;f++){n=c(s,u,t.elements[l].properties,a),u+=n[1];var p=n[0];o(r,t.elements[l].name,p)}return i(r)}var f,p=this;if(e instanceof ArrayBuffer){var d=u["M"].decodeText(new Uint8Array(e)),h=t(d);f="ascii"===h.format?a(d,h):l(e,h)}else f=a(e,t(e));return f}});var p=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new u["Fb"],this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:u["O"].ROTATE,MIDDLE:u["O"].DOLLY,RIGHT:u["O"].PAN},this.touches={ONE:u["wb"].ROTATE,TWO:u["wb"].DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",oe),this._domElementKeyEvents=e},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=o.NONE},this.update=function(){var t=new u["Fb"],a=(new u["jb"]).setFromUnitVectors(e.up,new u["Fb"](0,1,0)),i=a.clone().invert(),m=new u["Fb"],v=new u["jb"],g=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(a),l.setFromVector3(t),n.autoRotate&&s===o.NONE&&O(_()),n.enableDamping?(l.theta+=f.theta*n.dampingFactor,l.phi+=f.phi*n.dampingFactor):(l.theta+=f.theta,l.phi+=f.phi);var u=n.minAzimuthAngle,b=n.maxAzimuthAngle;return isFinite(u)&&isFinite(b)&&(u<-Math.PI?u+=g:u>Math.PI&&(u-=g),b<-Math.PI?b+=g:b>Math.PI&&(b-=g),l.theta=u<=b?Math.max(u,Math.min(b,l.theta)):l.theta>(u+b)/2?Math.max(u,l.theta):Math.min(b,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=p,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),!0===n.enableDamping?n.target.addScaledVector(d,n.dampingFactor):n.target.add(d),t.setFromSpherical(l),t.applyQuaternion(i),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),d.set(0,0,0)),p=1,!!(h||m.distanceToSquared(n.object.position)>c||8*(1-v.dot(n.object.quaternion))>c)&&(n.dispatchEvent(r),m.copy(n.object.position),v.copy(n.object.quaternion),h=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",le),n.domElement.removeEventListener("pointerdown",$),n.domElement.removeEventListener("wheel",ie),n.domElement.removeEventListener("touchstart",se),n.domElement.removeEventListener("touchend",ue),n.domElement.removeEventListener("touchmove",ce),n.domElement.ownerDocument.removeEventListener("pointermove",ee),n.domElement.ownerDocument.removeEventListener("pointerup",te),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",oe)};var n=this,r={type:"change"},a={type:"start"},i={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,c=1e-6,l=new u["ub"],f=new u["ub"],p=1,d=new u["Fb"],h=!1,m=new u["Eb"],v=new u["Eb"],g=new u["Eb"],b=new u["Eb"],y=new u["Eb"],w=new u["Eb"],C=new u["Eb"],x=new u["Eb"],E=new u["Eb"];function _(){return 2*Math.PI/60/60*n.autoRotateSpeed}function P(){return Math.pow(.95,n.zoomSpeed)}function O(e){f.theta-=e}function T(e){f.phi-=e}var M=function(){var e=new u["Fb"];return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),S=function(){var e=new u["Fb"];return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),j=function(){var e=new u["Fb"];return function(t,r){var a=n.domElement;if(n.object.isPerspectiveCamera){var i=n.object.position;e.copy(i).sub(n.target);var o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),M(2*t*o/a.clientHeight,n.object.matrix),S(2*r*o/a.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(M(t*(n.object.right-n.object.left)/n.object.zoom/a.clientWidth,n.object.matrix),S(r*(n.object.top-n.object.bottom)/n.object.zoom/a.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function A(e){n.object.isPerspectiveCamera?p/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function L(e){n.object.isPerspectiveCamera?p*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function N(e){m.set(e.clientX,e.clientY)}function z(e){C.set(e.clientX,e.clientY)}function R(e){b.set(e.clientX,e.clientY)}function D(e){v.set(e.clientX,e.clientY),g.subVectors(v,m).multiplyScalar(n.rotateSpeed);var t=n.domElement;O(2*Math.PI*g.x/t.clientHeight),T(2*Math.PI*g.y/t.clientHeight),m.copy(v),n.update()}function I(e){x.set(e.clientX,e.clientY),E.subVectors(x,C),E.y>0?A(P()):E.y<0&&L(P()),C.copy(x),n.update()}function k(e){y.set(e.clientX,e.clientY),w.subVectors(y,b).multiplyScalar(n.panSpeed),j(w.x,w.y),b.copy(y),n.update()}function U(){}function F(e){e.deltaY<0?L(P()):e.deltaY>0&&A(P()),n.update()}function B(e){var t=!1;switch(e.keyCode){case n.keys.UP:j(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:j(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:j(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:j(-n.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),n.update())}function H(e){if(1==e.touches.length)m.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);m.set(t,n)}}function Y(e){if(1==e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,n)}}function V(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);C.set(0,r)}function G(e){n.enableZoom&&V(e),n.enablePan&&Y(e)}function W(e){n.enableZoom&&V(e),n.enableRotate&&H(e)}function q(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,r)}g.subVectors(v,m).multiplyScalar(n.rotateSpeed);var a=n.domElement;O(2*Math.PI*g.x/a.clientHeight),T(2*Math.PI*g.y/a.clientHeight),m.copy(v)}function X(e){if(1==e.touches.length)y.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(t,r)}w.subVectors(y,b).multiplyScalar(n.panSpeed),j(w.x,w.y),b.copy(y)}function Z(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+r*r);x.set(0,a),E.set(0,Math.pow(x.y/C.y,n.zoomSpeed)),A(E.y),C.copy(x)}function J(e){n.enableZoom&&Z(e),n.enablePan&&X(e)}function K(e){n.enableZoom&&Z(e),n.enableRotate&&q(e)}function Q(){}function $(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":ne(e);break}}function ee(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":re(e);break}}function te(e){switch(e.pointerType){case"mouse":case"pen":ae(e);break}}function ne(e){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case u["O"].DOLLY:if(!1===n.enableZoom)return;z(e),s=o.DOLLY;break;case u["O"].ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;R(e),s=o.PAN}else{if(!1===n.enableRotate)return;N(e),s=o.ROTATE}break;case u["O"].PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;N(e),s=o.ROTATE}else{if(!1===n.enablePan)return;R(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&(n.domElement.ownerDocument.addEventListener("pointermove",ee),n.domElement.ownerDocument.addEventListener("pointerup",te),n.dispatchEvent(a))}function re(e){if(!1!==n.enabled)switch(e.preventDefault(),s){case o.ROTATE:if(!1===n.enableRotate)return;D(e);break;case o.DOLLY:if(!1===n.enableZoom)return;I(e);break;case o.PAN:if(!1===n.enablePan)return;k(e);break}}function ae(e){n.domElement.ownerDocument.removeEventListener("pointermove",ee),n.domElement.ownerDocument.removeEventListener("pointerup",te),!1!==n.enabled&&(U(e),n.dispatchEvent(i),s=o.NONE)}function ie(e){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(a),F(e),n.dispatchEvent(i))}function oe(e){!1!==n.enabled&&!1!==n.enablePan&&B(e)}function se(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case u["wb"].ROTATE:if(!1===n.enableRotate)return;H(e),s=o.TOUCH_ROTATE;break;case u["wb"].PAN:if(!1===n.enablePan)return;Y(e),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case u["wb"].DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;G(e),s=o.TOUCH_DOLLY_PAN;break;case u["wb"].DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;W(e),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(a)}}function ce(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;q(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;X(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;J(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;K(e),n.update();break;default:s=o.NONE}}function ue(e){!1!==n.enabled&&(Q(e),n.dispatchEvent(i),s=o.NONE)}function le(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",le),n.domElement.addEventListener("pointerdown",$),n.domElement.addEventListener("wheel",ie),n.domElement.addEventListener("touchstart",se),n.domElement.addEventListener("touchend",ue),n.domElement.addEventListener("touchmove",ce),this.update()};p.prototype=Object.create(u["s"].prototype),p.prototype.constructor=p;var d=function(e,t){p.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=u["O"].PAN,this.mouseButtons.RIGHT=u["O"].ROTATE,this.touches.ONE=u["wb"].PAN,this.touches.TWO=u["wb"].DOLLY_ROTATE};d.prototype=Object.create(u["s"].prototype),d.prototype.constructor=d;var h,m=[],v={renderer:null,camera:null,scene:null},g={viewer:null},b={props:{},data:function(){return{controls:null,electBoxObj:null,lightLineObj:null,scanLineObj:null,rectObj:null,loadedGeometry:null,personMeshObj:null,publicPath:"",shader2:{vs:"\n\t\tvarying vec3 vPosition;\n\t\tvoid main(){\n\t\t\tvPosition=position;\n\t\t\tgl_Position\t= projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t}\n\t",fs:"\n\t\tvarying vec3 vPosition;\n\t\tuniform vec3 u_color;\n\t\tuniform float u_r;\n\t\tuniform float u_ring;\n\n\t\tvoid main(){\n\t\t\tfloat pct=distance(vec2(vPosition.x,vPosition.y),vec2(0.0));\n\t\t\tif(pct>u_r || pct<(u_r-u_ring)){\n\t\t\t\tgl_FragColor = vec4(1.0,0.0,0.0,0);\n\t\t\t}else{\n\t\t\t\tfloat dis=(pct-(u_r-u_ring))/(u_r-u_ring);\n\t\t\t\tgl_FragColor = vec4(u_color,dis);\n\t\t\t}\n\t\t}\n\t"},shader1:{vs:" varying vec2 vUv;\n                void main() {\n                  vUv = uv;\n                  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n                }",fs:"\n          varying vec2 vUv;\n          uniform float time;\n          vec3 hsb2rgb(const vec3 c) {\n            vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0, 4.0, 2.0), 6.0)-3.0)-1.0, 0.0, 1.0);\n            rgb = rgb*rgb*(3.0-2.0*rgb);\n            return c.z * mix( vec3(1.0), rgb, c.y);\n          }\n          void main() {\n              // Normalized pixel coordinates (from 0 to 1)\n            vec2 uv = vUv;\n            vec2 p = 2.0*uv.xy - vec2(1., 1.) ; // center what being drawn\n            float r = length(p) * 2.;\n            vec3 color = hsb2rgb(vec3(0.24, 0.7, 0.5));\n            float a = pow(r, 2.0);\n            float b = sin(r * 0.8 - 1.6);\n            float c = sin(r - 0.010);\n            float s = sin(a - time * 3.0 + b) * c;\n            color *= abs(1.0 / (s * 30.)) - 0.01;\n            gl_FragColor = vec4(color, .4);\n          }\n          "}}},mounted:function(){this.main()},methods:{main:function(){Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmMjY1MzY3MC1mYWIwLTQ2ZDItYTdlZi0yNWEyZjU2MjAzOTQiLCJpZCI6Mzg4MzUsImlhdCI6MTYwNjg3MzkxNX0.gGDAumUmOxcrCTMRfrKZJjfZpYiLxGwJwSLlkDYt9BY",document.getElementById("cesiumContainer"),h=document.getElementById("ThreeContainer"),this.initCesium(),this.initThree(),this.init3DObject(),this.loop()},initCesium:function(){g.viewer=new Cesium.Viewer("cesiumContainer",{useDefaultRenderLoop:!1,infoBox:!1,selectionIndicator:!1,geocoder:!1,homeButton:!1,timeline:!1,navigationHelpButton:!1,fullscreenButton:!1,scene3DOnly:!0,animation:!1,imageryProvider:new Cesium.ArcGisMapServerImageryProvider({url:"http://cache1.arcgisonline.cn/arcgis/rest/services/ChinaOnlineStreetPurplishBlue/MapServer"}),baseLayerPicker:!1}),g.viewer.scene.fxaa=!1,g.viewer.scene.postProcessStages.fxaa.enabled=!1;var e=g.viewer.cesiumWidget._supportsImageRenderingPixelated;if(e){var t=window.devicePixelRatio;while(t>=2)t/=2;g.viewer.resolutionScale=t}g.viewer.scene.globe.depthTestAgainstTerrain=!0,g.viewer.scene.camera.flyTo({destination:new Cesium.Cartesian3(-2852038.506894064,4656753.071879653,3286786.358214652),orientation:{heading:.4417702951554947,pitch:-.30187320702800813}}),this.handlerEvent()},initThree:function(){var e=45,t=window.innerWidth,n=window.innerHeight,r=t/n,a=1,i=1e7;v.scene=new u["nb"],v.camera=new u["eb"](e,r,a,i),v.renderer=new u["Hb"]({alpha:!0}),h.appendChild(v.renderer.domElement)},init3DObject:function(){this.ODLine(),this.addWall(),this.addBuildings(),this.electBoxObj=this.addElectBox(),this.scatterCircle(),this.lightLineObj=this.lightLine(),this.rectObj=this.addRectangular()},loop:function(){requestAnimationFrame(this.loop),this.renderCesium(),this.renderThreeObj()},renderCesium:function(){g.viewer.render()},renderThreeObj:function(){v.camera.fov=Cesium.Math.toDegrees(g.viewer.camera.frustum.fovy),this.electBoxObj&&(this.electBoxObj.material.uniforms.time.value+=.01),this.lightLineObj&&this.lightLineObj.children.forEach((function(e){e.material.map.offset.x-=.002})),this.rectObj&&this.rectObj.children.forEach((function(e){e.rotation.x+=.04,e.rotation.y+=.04,e.rotation.z+=.04})),this.personMeshObj&&(this.personMeshObj.rotation.y+=.04),v.camera.matrixAutoUpdate=!1;var e=g.viewer.camera.viewMatrix,t=g.viewer.camera.inverseViewMatrix;v.camera.lookAt(0,0,0),v.camera.matrixWorld.set(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]),v.camera.matrixWorldInverse.set(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]);var n=h.clientWidth,r=h.clientHeight,a=n/r;v.camera.aspect=a,v.camera.updateProjectionMatrix(),v.renderer.setSize(n,r),v.renderer.clear(),v.renderer.render(v.scene,v.camera)},handlerEvent:function(){g.handler=new Cesium.ScreenSpaceEventHandler(g.viewer.scene.canvas),g.handler.setInputAction((function(e){var t=g.viewer.scene.pickPosition(e.position),n=Cesium.Cartographic.fromCartesian(t),r=Cesium.Math.toDegrees(n.longitude),a=Cesium.Math.toDegrees(n.latitude);n.height;console.log(t),console.log(r,a)}),Cesium.ScreenSpaceEventType.LEFT_CLICK)},addBuildings:function(){Cesium.TILE_EFFECT_STAYE=!0,Cesium.TILE_FS_BODY=" float stc_pl = fract(czm_frameNumber / 120.0) * 3.14159265 *         \n    2.0;\n   float stc_sd = v_stcVertex.z / 60.0 + sin(stc_pl) * 0.1;\n   gl_FragColor *= vec4(stc_sd, stc_sd, stc_sd, 1.0);\n   float stc_a13 = fract(czm_frameNumber / 360.0);\n   float stc_h = clamp(v_stcVertex.z / 450.0, 0.0, 1.0);\n   stc_a13 = abs(stc_a13 - 0.5) * 2.0;\n   float stc_diff = step(0.005, abs(stc_h - stc_a13));\n   gl_FragColor.rgb += gl_FragColor.rgb * (1.0 - stc_diff);";var e=new Cesium.Cesium3DTileset({url:"test3/tileset.json",maximumScreenSpaceError:4,maximumNumberOfLoadedTiles:1e3});g.viewer.scene.primitives.add(e),e.readyPromise.then((function(e){var t=e.boundingSphere,n=Cesium.Cartographic.fromCartesian(t.center),r=Cesium.Cartesian3.fromRadians(n.longitude,n.latitude,0),a=Cesium.Cartesian3.fromRadians(Cesium.Math.toRadians(121.41440447172941),Cesium.Math.toRadians(31.148724746744023),-32),i=Cesium.Cartesian3.subtract(a,r,new Cesium.Cartesian3);e.modelMatrix=Cesium.Matrix4.fromTranslation(i),e.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["true","color('cyan')"]]}})})).otherwise((function(e){throw e}))},addElectBox:function(){var e=[121.49357551781992,31.2536386621873],t=[121.49358551781992,31.2536486621873],n=this.getElectBoxMaterial(),r=new u["tb"](750,50,50,0,Math.PI),a=new u["S"](r,n);v.scene.add(a);var i={threeMesh:a,minWGS84:e,maxWGS84:t};return m.push(i),this.setThreeObjPosition(i),a},getElectBoxMaterial:function(){var e={uniforms:{time:{type:"f",value:0},color:{type:"c",value:new u["n"]("red")},opacity:{type:"f",value:1}},vertexShaderSource:"\n  precision lowp float;\n  precision lowp int;\n  ".concat(u["ob"].fog_pars_vertex,"\n  varying vec2 vUv;\n  void main() {\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    ").concat(u["ob"].fog_vertex,"\n  }\n"),fragmentShaderSource:"\n                    #if __VERSION__ == 100\n                     #extension GL_OES_standard_derivatives : enable\n                    #endif\n                    uniform vec3 color;\n                    uniform float opacity;\n                    uniform float time;\n                    varying vec2 vUv;\n                    #define pi 3.1415926535\n                    #define PI2RAD 0.01745329252\n                    #define TWO_PI (2. * PI)\n                    float rands(float p){\n                        return fract(sin(p) * 10000.0);\n                    }\n                    float noise(vec2 p){\n                        float t = time / 20000.0;\n                        if(t > 1.0) t -= floor(t);\n                        return rands(p.x * 14. + p.y * sin(t) * 0.5);\n                    }\n                    vec2 sw(vec2 p){\n                        return vec2(floor(p.x), floor(p.y));\n                    }\n                    vec2 se(vec2 p){\n                        return vec2(ceil(p.x), floor(p.y));\n                    }\n                    vec2 nw(vec2 p){\n                        return vec2(floor(p.x), ceil(p.y));\n                    }\n                    vec2 ne(vec2 p){\n                        return vec2(ceil(p.x), ceil(p.y));\n                    }\n                    float smoothNoise(vec2 p){\n                        vec2 inter = smoothstep(0.0, 1.0, fract(p));\n                        float s = mix(noise(sw(p)), noise(se(p)), inter.x);\n                        float n = mix(noise(nw(p)), noise(ne(p)), inter.x);\n                        return mix(s, n, inter.y);\n                    }\n                    float fbm(vec2 p){\n                        float z = 2.0;\n                        float rz = 0.0;\n                        vec2 bp = p;\n                        for(float i = 1.0; i < 6.0; i++){\n                        rz += abs((smoothNoise(p) - 0.5)* 2.0) / z;\n                        z *= 2.0;\n                        p *= 2.0;\n                        }\n                        return rz;\n                    }\n                    void main() {\n                        vec2 uv = vUv;\n                        vec2 uv2 = vUv;\n                        if (uv.y < 0.5) {\n                        discard;\n                        }\n                        uv *= 4.;\n                        float rz = fbm(uv);\n                        uv /= exp(mod(time * 2.0, pi));\n                        rz *= pow(15., 0.9);\n                        gl_FragColor = mix(vec4(color, opacity) / rz, vec4(color, 0.1), 0.2);\n                        if (uv2.x < 0.05) {\n                        gl_FragColor = mix(vec4(color, 0.1), gl_FragColor, uv2.x / 0.05);\n                        }\n                        if (uv2.x > 0.95){\n                        gl_FragColor = mix(gl_FragColor, vec4(color, 0.1), (uv2.x - 0.95) / 0.05);\n                        }\n                    }"},t=new u["pb"]({uniforms:e.uniforms,defaultAttributeValues:{},vertexShader:e.vertexShaderSource,fragmentShader:e.fragmentShaderSource,blending:u["a"],depthWrite:!1,depthTest:!0,side:u["r"],transparent:!0});return t},setThreeObjPosition:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(e){return new u["Fb"](e.x,e.y,e.z)},r=e.minWGS84,a=e.maxWGS84,i=Cesium.Cartesian3.fromDegrees((r[0]+a[0])/2,(r[1]+a[1])/2,t),o=Cesium.Cartesian3.fromDegrees((r[0]+a[0])/2,(r[1]+a[1])/2,1),s=n(Cesium.Cartesian3.fromDegrees(r[0],r[1])),c=n(Cesium.Cartesian3.fromDegrees(r[0],a[1])),l=(new u["Fb"]).subVectors(s,c).normalize();e.threeMesh.position.copy(i),e.threeMesh.lookAt(o.x,o.y,o.z),e.threeMesh.up.copy(l)},scatterCircle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new u["Fb"](0,1,1),a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,i=[121.54052017329961,31.278092509941782],o=[121.54053017329962,31.27810250994178],s={time:{value:0},u_color:{value:r},u_r:{value:t},u_ring:{value:n}},c=this.shader2.vs,l=this.shader2.fs,f=new u["l"](e,12e3),p=new u["pb"]({vertexShader:c,fragmentShader:l,side:u["r"],uniforms:s,transparent:!0,depthWrite:!1}),d=new u["S"](f,p);d.scale.set(2e3,2e3,2e3),v.scene.add(d);var h={threeMesh:d,minWGS84:i,maxWGS84:o};function m(){s.time.value+=.01,s.u_r.value+=a||.1,s.u_r.value>=e&&(s.u_r.value=t),requestAnimationFrame(m)}return this.setThreeObjPosition(h),m(),d},lightLine:function(){var e=this,t=(new u["Ab"]).load("".concat(this.publicPath,"texture/line.png"));t.wrapS=t.wrapT=u["mb"],t.repeat.set(1,1),t.needsUpdate=!0,t.offset.x=.5;var n=new u["T"]({map:t,side:u["d"],transparent:!0}),r=[[121.48202749938409,31.221985479874512],[121.47794413604615,31.26901625975226],[121.49874265570466,31.20666485501269],[121.54108827427831,31.33233924309932],[121.63422440576947,31.273286637545194]],a=new u["w"];return r.forEach((function(t){var r=new u["k"]([new u["Fb"](0,0,0),new u["Fb"](0,0,100)]),i=new u["Db"](r,80,.1),o=new u["S"](i,n);o.scale.set(150,150,150);var s={threeMesh:o,minWGS84:t,maxWGS84:t};e.setThreeObjPosition(s),a.add(o)})),v.scene.add(a),a},ODLine:function(){var e=[[121.49872890304215,31.23811931903695,0,121.49580735943334,31.23691516337262,700,121.49013735991807,31.232977794178908,0],[121.49872890304215,31.23811931903695,0,121.49487614748442,31.24249621923281,1e3,121.48997152310628,31.249634173869836,0],[121.49872890304215,31.23811931903695,0,121.51801026944386,31.257804203980925,1100,121.53994551468021,31.27774008101418,0],[121.49872890304215,31.23811931903695,0,121.50689406570945,31.235675335659597,900,121.51360824805317,31.2318641147962,0],[121.49872890304215,31.23811931903695,0,121.52799172213003,31.235268840934545,800,121.55710892258877,31.227136256013686,0]];e.forEach((function(e){for(var t=Cesium.Cartesian3.fromDegreesArrayHeights(e),n=Cesium.HermiteSpline.createNaturalCubic({times:[0,.5,1],points:t}),r=[],a=0;a<=500;a++){var i=n.evaluate(a/500);r.push(i)}g.viewer.entities.add({name:"PolylineTrail",polyline:{positions:r,width:8,arcType:Cesium.ArcType.NONE,material:new Cesium.PolylineTrailLinkMaterialProperty(null,3e3)}})}))},scanLine:function(){var e=[121.49040423094851,31.24897428717897,121.50983593820013,31.24146639073815,121.50409158799692,31.231264816442277,121.48497930661024,31.23775660317917],t=new Cesium.GeometryInstance({geometry:new Cesium.PolygonGeometry({polygonHierarchy:new Cesium.PolygonHierarchy(Cesium.Cartesian3.fromDegreesArray(e)),extrudedHeight:1e7,height:-100,vertexFormat:Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT})}),n=new Cesium.GroundPrimitive({geometryInstances:t,appearance:new Cesium.EllipsoidSurfaceAppearance({aboveGround:!0}),classificationType:Cesium.ClassificationType.BOTH,show:!0});return g.viewer.scene.primitives.add(n),t},codeLine:function(){var e=[[121.49013735991807,31.232977794178908,0,121.49013735991807,31.232977794178908,1e4],[121.48997152310628,31.249634173869836,0,121.48997152310628,31.249634173869836,1e4],[121.53994551468021,31.27774008101418,0,121.53994551468021,31.27774008101418,1e4],[121.51360824805317,31.2318641147962,0,121.51360824805317,31.2318641147962,1e4],[121.55710892258877,31.227136256013686,0,121.55710892258877,31.227136256013686,1e4]];e.map((function(e){var t=Cesium.Cartesian3.fromDegreesArrayHeights(e);g.viewer.entities.add({name:"PolylineTrail1",polyline:{positions:t,width:20,material:new Cesium.PolylineTrailLinkMaterialProperty(null,3e3)}})}))},addWall:function(){var e=[121.53415988151373,31.240442807182433,200,121.54519435235682,31.238860691269554,200,121.54158670353141,31.231993151255345,200,121.53134619657078,31.23454218401985,200,121.53415988151373,31.240442807182433,200],t=g.viewer.entities.add({name:"WallTrail",wall:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e),material:new Cesium.PolylineTrailLinkMaterialProperty(null,9e3,"https://img1.baidu.com/it/u=897925879,2799566943&fm=26&fmt=auto&gp=0.jpg")}});console.log(t)},addRectangular:function(){var e=this,t=[{size:100,height:600,minWGS84:[121.50795727975196,31.234456423634082],maxWGS84:[121.50795727975196,31.234456423634082]},{size:50,height:100,minWGS84:[121.48605154398815,31.237722800606136],maxWGS84:[121.48605154398815,31.237722800606136]},{size:30,height:50,minWGS84:[121.51615528314545,31.235612061143307],maxWGS84:[121.51615528314545,31.235612061143307]}],n=new u["T"]({color:16776960,transparent:!0,opacity:.5}),r=new u["T"]({color:16776960,wireframe:!0}),a=new u["w"];return t.forEach((function(t){var i=new u["yb"](t.size),o=new l.createMultiMaterialObject(i,[n,r]),s={threeMesh:o,minWGS84:t.minWGS84,maxWGS84:t.maxWGS84};e.setThreeObjPosition(s,t.height),a.add(o)})),v.scene.add(a),a},getSpireModel:function(){var e=[121.49971003569267,31.239999873637704],t=[121.49972003569268,31.240009873637703],n=this;n.manager=new u["N"],new f(n.manager).load("".concat(n.publicPath,"model/Lucy100k.ply"),(function(r){n.loadedGeometry=r.clone(),r.computeVertexNormals();var a=new u["hb"]({color:16777215,size:3,transparent:!0,blending:u["a"],map:n.generateSprite()}),i=new u["gb"](r,a);i.sortParticles=!0;var o={threeMesh:i,minWGS84:e,maxWGS84:t};return n.setThreeObjPosition(o,500),i.scale.set(.5,.5,.5),i.rotation.x=0,i.rotation.y=0,i.rotation.z=0,v.scene.add(i),n.personMeshObj=i,i}))},generateSprite:function(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d"),n=t.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(.2,"rgba(255,255,0,1)"),n.addColorStop(.4,"rgba(0,0,64,1)"),n.addColorStop(1,"rgba(0,0,0,1)"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height);var r=new u["zb"](e);return r.needsUpdate=!0,r},addPlaneModel:function(){var e=Cesium.CzmlDataSource.load("Source/SampleData/load.czml");e.then((function(e){g.viewer.dataSources.add(e),drone=e.entities.getById("Aircraft/Aircraft1"),console.log(drone),drone.model={uri:"Source/SampleData/Models/CesiumDrone.gltf",minimumPixelSize:128,maximumScale:1e3,silhouetteColor:Cesium.Color.WHITE,silhouetteSize:2},drone.orientation=new Cesium.VelocityOrientationProperty(drone.position),drone.position.setInterpolationOptions({interpolationDegree:3,interpolationAlgorithm:Cesium.HermitePolynomialApproximation})}))},addGeoJson:function(){var e=[];o.a.get("./Data/shanghaiload.json").then((function(t){t.data.geometries.map((function(t){var n=[];t.coordinates.map((function(e){var t=c.gcj_encrypt(e[0],e[1]);n.push(t.lat),n.push(t.lon)})),e.push(n)})),e.map((function(e){g.viewer.entities.add({name:"PolylineTrail",polyline:{positions:Cesium.Cartesian3.fromDegreesArray(e),width:8,arcType:Cesium.ArcType.NONE,material:new Cesium.PolylineGlowMaterialProperty({glowPower:.3,color:Cesium.Color.BLUE.withAlpha(.3)})}})}))}))},addDynamicRadar:function(){var e=new Cesium.Cartographic(Cesium.Math.toRadians(121.49872890304215),Cesium.Math.toRadians(31.23811931903695),1e3),t=new Cesium.Color(0,0,1,1);this.AddCircleScanPostStage(g.viewer,e,1e4,t,4e3)},AddCircleScanPostStage:function(e,t,n,r,a){var i="uniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nvarying vec2 v_textureCoordinates;\nuniform vec4 u_scanCenterEC;\nuniform vec3 u_scanPlaneNormalEC;\nuniform float u_radius;\nuniform vec4 u_scanColor;\nvec4 toEye(in vec2 uv, in float depth)\n {\n vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));\n vec4 posInCamera =czm_inverseProjection * vec4(xy, depth, 1.0);\n posInCamera =posInCamera / posInCamera.w;\n return posInCamera;\n }\nvec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point)\n{\nvec3 v01 = point -planeOrigin;\nfloat d = dot(planeNormal, v01) ;\nreturn (point - planeNormal * d);\n}\nfloat getDepth(in vec4 depth)\n{\nfloat z_window = czm_unpackDepth(depth);\nz_window = czm_reverseLogDepth(z_window);\nfloat n_range = czm_depthRange.near;\nfloat f_range = czm_depthRange.far;\nreturn (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nvoid main()\n{\ngl_FragColor = texture2D(colorTexture, v_textureCoordinates);\nfloat depth = getDepth( texture2D(depthTexture, v_textureCoordinates));\nvec4 viewPos = toEye(v_textureCoordinates, depth);\nvec3 prjOnPlane = pointProjectOnPlane(u_scanPlaneNormalEC.xyz, u_scanCenterEC.xyz, viewPos.xyz);\nfloat dis = length(prjOnPlane.xyz - u_scanCenterEC.xyz);\nif(dis < u_radius)\n{\nfloat f = 1.0 -abs(u_radius - dis) / u_radius;\nf = pow(f, 4.0);\ngl_FragColor = mix(gl_FragColor, u_scanColor, f);\n}\n}\n",o=Cesium.Cartographic.toCartesian(t),s=new Cesium.Cartesian4(o.x,o.y,o.z,1),c=new Cesium.Cartographic(t.longitude,t.latitude,t.height+500),u=Cesium.Cartographic.toCartesian(c),l=new Cesium.Cartesian4(u.x,u.y,u.z,1),f=(new Date).getTime(),p=new Cesium.Cartesian4,d=new Cesium.Cartesian4,h=new Cesium.Cartesian3,m=new Cesium.PostProcessStage({fragmentShader:i,uniforms:{u_scanCenterEC:function(){return Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,s,p)},u_scanPlaneNormalEC:function(){var t=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,s,p),n=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,l,d);return h.x=n.x-t.x,h.y=n.y-t.y,h.z=n.z-t.z,Cesium.Cartesian3.normalize(h,h),h},u_radius:function(){return n*(((new Date).getTime()-f)%a)/a},u_scanColor:r}});e.scene.postProcessStages.add(m)},addDynamicRadar1:function(){var e="121.60142353971058",t="31.23530433597591",n=new Cesium.Cartographic(Cesium.Math.toRadians(e),Cesium.Math.toRadians(t),500),r=new Cesium.Color(0,2,1,1),a=4e3,i=4e3;this.addRadarScanPostStage(g.viewer,n,i,r,a)},addRadarScanPostStage:function(e,t,n,r,a){var i="uniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nvarying vec2 v_textureCoordinates;\nuniform vec4 u_scanCenterEC;\nuniform vec3 u_scanPlaneNormalEC;\nuniform vec3 u_scanLineNormalEC;\nuniform float u_radius;\nuniform vec4 u_scanColor;\nvec4 toEye(in vec2 uv, in float depth)\n {\n vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));\n vec4 posInCamera =czm_inverseProjection * vec4(xy, depth, 1.0);\n posInCamera =posInCamera / posInCamera.w;\n return posInCamera;\n }\nbool isPointOnLineRight(in vec3 ptOnLine, in vec3 lineNormal, in vec3 testPt)\n{\nvec3 v01 = testPt - ptOnLine;\nnormalize(v01);\nvec3 temp = cross(v01, lineNormal);\nfloat d = dot(temp, u_scanPlaneNormalEC);\nreturn d > 0.5;\n}\nvec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point)\n{\nvec3 v01 = point -planeOrigin;\nfloat d = dot(planeNormal, v01) ;\nreturn (point - planeNormal * d);\n}\nfloat distancePointToLine(in vec3 ptOnLine, in vec3 lineNormal, in vec3 testPt)\n{\nvec3 tempPt = pointProjectOnPlane(lineNormal, ptOnLine, testPt);\nreturn length(tempPt - ptOnLine);\n}\nfloat getDepth(in vec4 depth)\n{\nfloat z_window = czm_unpackDepth(depth);\nz_window = czm_reverseLogDepth(z_window);\nfloat n_range = czm_depthRange.near;\nfloat f_range = czm_depthRange.far;\nreturn (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nvoid main()\n{\ngl_FragColor = texture2D(colorTexture, v_textureCoordinates);\nfloat depth = getDepth( texture2D(depthTexture, v_textureCoordinates));\nvec4 viewPos = toEye(v_textureCoordinates, depth);\nvec3 prjOnPlane = pointProjectOnPlane(u_scanPlaneNormalEC.xyz, u_scanCenterEC.xyz, viewPos.xyz);\nfloat dis = length(prjOnPlane.xyz - u_scanCenterEC.xyz);\nfloat twou_radius = u_radius * 2.0;\nif(dis < u_radius)\n{\nfloat f0 = 1.0 -abs(u_radius - dis) / u_radius;\nf0 = pow(f0, 64.0);\nvec3 lineEndPt = vec3(u_scanCenterEC.xyz) + u_scanLineNormalEC * u_radius;\nfloat f = 0.0;\nif(isPointOnLineRight(u_scanCenterEC.xyz, u_scanLineNormalEC.xyz, prjOnPlane.xyz))\n{\nfloat dis1= length(prjOnPlane.xyz - lineEndPt);\nf = abs(twou_radius -dis1) / twou_radius;\nf = pow(f, 3.0);\n}\ngl_FragColor = mix(gl_FragColor, u_scanColor, f + f0);\n}\n}\n",o=Cesium.Cartographic.toCartesian(t),s=new Cesium.Cartesian4(o.x,o.y,o.z,1),c=new Cesium.Cartographic(t.longitude,t.latitude,t.height+500),u=Cesium.Cartographic.toCartesian(c),l=new Cesium.Cartesian4(u.x,u.y,u.z,1),f=new Cesium.Cartographic(t.longitude+Cesium.Math.toRadians(.001),t.latitude,t.height),p=Cesium.Cartographic.toCartesian(f),d=new Cesium.Cartesian4(p.x,p.y,p.z,1),h=new Cesium.Quaternion,m=new Cesium.Matrix3,v=(new Date).getTime(),g=new Cesium.Cartesian4,b=new Cesium.Cartesian4,y=new Cesium.Cartesian4,w=new Cesium.Cartesian3,C=new Cesium.Cartesian3,x=new Cesium.PostProcessStage({fragmentShader:i,uniforms:{u_scanCenterEC:function(){return Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,s,g)},u_scanPlaneNormalEC:function(){var t=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,s,g),n=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,l,b);return w.x=n.x-t.x,w.y=n.y-t.y,w.z=n.z-t.z,Cesium.Cartesian3.normalize(w,w),w},u_radius:n,u_scanLineNormalEC:function(){var t=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,s,g),n=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,l,b),r=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,d,y);w.x=n.x-t.x,w.y=n.y-t.y,w.z=n.z-t.z,Cesium.Cartesian3.normalize(w,w),C.x=r.x-t.x,C.y=r.y-t.y,C.z=r.z-t.z;var i=((new Date).getTime()-v)%a/a;return Cesium.Quaternion.fromAxisAngle(w,i*Cesium.Math.PI*2,h),Cesium.Matrix3.fromQuaternion(h,m),Cesium.Matrix3.multiplyByVector(m,C,C),Cesium.Cartesian3.normalize(C,C),C},u_scanColor:r}});e.scene.postProcessStages.add(x)}}},y=b,w=(n("ea40"),n("c701")),C=Object(w["a"])(y,r,a,!1,null,"d131386c",null);t["default"]=C.exports},e8a0:function(e,t,n){"use strict";var r=n("2b31");e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},ea40:function(e,t,n){"use strict";n("15c0")},eef6:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("6266")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},f11f:function(e,t,n){"use strict";(function(t){var r=n("7cb5"),a=n("3269"),i={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function s(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n("5e03")),e}var c={adapter:s(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(i)})),e.exports=c}).call(this,n("eef6"))},f2b1:function(e,t,n){"use strict";var r=n("7cb5");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()}}]);
//# sourceMappingURL=chunk-63f48ef6.f6a50b8d.js.map