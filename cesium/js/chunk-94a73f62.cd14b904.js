(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94a73f62"],{"123c":function(e,t,i){var n=i("3b29"),r=i("c7d8"),o=i("6d05"),a=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},"2c98":function(e,t,i){"use strict";i("883c")},"883c":function(e,t,i){},"9b9a":function(e,t,i){"use strict";var n=i("485e"),r=i("977b").f,o=i("4a35"),a=i("a164"),s=i("21e0"),c=i("b20c"),l=i("7fe9"),u="".startsWith,d=Math.min,h=c("startsWith"),m=!l&&!h&&!!function(){var e=r(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!m&&!h},{startsWith:function(e){var t=String(s(this));a(e);var i=o(d(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return u?u.call(t,n,i):t.slice(i,i+n.length)===n}})},a164:function(e,t,i){var n=i("123c");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},b20c:function(e,t,i){var n=i("6d05"),r=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}},e91f:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"cesiumContainer"}},[i("div",{staticClass:"tool-box"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.startDraw(t)}}},[e._v("画点")])],1)])},r=[],o=(i("9b9a"),i("acc5")),a=(i("5e1a"),i("5b17"),null),s=null,c=null,l={name:"load3DTiles",props:{},data:function(){return{curObj:{primitive:null,id:null},sharpness:.85,tileset:null,pointArr:[],degreeArr:[],degreeHeight:[],isDrawPoint:!1,geojson:[]}},computed:{},watch:{},components:{},created:function(){},mounted:function(){this.init()},methods:{init:function(){var e=this,t={infoBox:!1,selectionIndicator:!1,geocoder:!1,homeButton:!1,timeline:!1,navigationHelpButton:!1,fullscreenButton:!1,scene3DOnly:!0,baseLayerPicker:!1,animation:!1,terrainProvider:new o["i"]({url:o["K"].fromAssetId(3956)})};a=new o["rb"]("cesiumContainer",t),a._cesiumWidget._creditContainer.style.display="none",a.scene.globe.depthTestAgainstTerrain=!0,a.scene,e.load3DTileModel(),e.addLeftClickEvent()},startDraw:function(){this.isDrawPoint=!0,a.scene.screenSpaceCameraController.enableRotate=!1,a.scene.screenSpaceCameraController.enableTranslate=!1,a.scene.screenSpaceCameraController.enableTilt=!1},load3DTileModel:function(){var e=new o["bb"]({url:"test/Scene/Production_6.json"});console.log(e),s=new o["h"]({url:"test/Scene/Production_6.json",maximumScreenSpaceError:4,maximumNumberOfLoadedTiles:1e3}),a.scene.primitives.add(s),s.readyPromise.then((function(e){var t=e.boundingSphere,i=o["f"].fromCartesian(t.center),n=o["e"].fromRadians(i.longitude,i.latitude,i.height),r=o["e"].fromRadians(o["P"].toRadians(106.709183),o["P"].toRadians(26.562819),-32),s=o["e"].subtract(r,n,new o["e"]);e.modelMatrix=o["R"].fromTranslation(s),a.zoomTo(e)}))},addLeftClickEvent:function(){var e=this;c=new o["eb"](a.scene.canvas),c.setInputAction((function(t){var i=a.scene.pickPosition(t.position),n=o["f"].fromCartesian(i),r=o["P"].toDegrees(n.longitude),s=o["P"].toDegrees(n.latitude),c=n.height,l=a.scene.pick(t.position);console.log(l),e.isDrawPoint?(e.degreeArr.push([r,s]),e.degreeHeight=c,e.pointArr.push(i),e.drawPoint(i,[r,s],c)):l&&l.id&&l.id.startsWith("default")?(e.curObj={primitive:l.primitive,id:l.id},e.showPrimitive(l.primitive,l.id)):e.hidePrimitive(e.curObj.primitive,e.curObj.id)}),o["fb"].LEFT_CLICK),c.setInputAction((function(t){var i=a.scene.pickPosition(t.position),n=o["f"].fromCartesian(i);o["P"].toDegrees(n.longitude),o["P"].toDegrees(n.latitude),n.height;e.isDrawPoint&&(e.curObj=e.addMonomer(e.pointArr),e.isDrawPoint=!1,e.reset())}),o["fb"].RIGHT_CLICK)},hidePrimitive:function(e,t){var i;e&&t&&(i=e.getGeometryInstanceAttributes(t),i.color=[85,185,213,0],i.show=[1])},showPrimitive:function(e,t){var i;i=e.getGeometryInstanceAttributes(t),i.color=[85,185,213,128],i.show=[1]},addMonomer:function(e){a.entities.removeAll();var t="default"+(new Date).getTime();a.scene.primitives.add(new o["j"]({geometryInstances:new o["B"]({geometry:new o["T"]({polygonHierarchy:new o["U"](e),extrudedHeight:1e4,height:-100}),attributes:{color:o["r"].fromColor(o["q"].fromCssColorString("#55B9E7").withAlpha(.5)),show:new o["hb"](!0)},id:t}),classificationType:o["k"].CESIUM_3D_TILE}));var i=a.scene.primitives;return{primitive:i.get(i.length-1),id:t}},drawPoint:function(e,t,i){var n=a.entities.add({position:e,point:{pixelSize:10,color:o["q"].BLUE,outlineWidth:2,outlineColor:o["q"].WHITE}});return n},reset:function(){a.entities.removeAll(),this.pointArr=[],this.degreeArr=[],this.degreeHeight="",this.geojson=[],this.isDrawPoint=!1,this.agreeViewMove()},agreeViewMove:function(){a.scene.screenSpaceCameraController.enableRotate=!0,a.scene.screenSpaceCameraController.enableTranslate=!0,a.scene.screenSpaceCameraController.enableTilt=!0}}},u=l,d=(i("2c98"),i("c701")),h=Object(d["a"])(u,n,r,!1,null,"d7b2ef80",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-94a73f62.cd14b904.js.map